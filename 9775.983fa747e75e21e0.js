(self.webpackChunkcd_user=self.webpackChunkcd_user||[]).push([[9775,2594],{5303:(D,E,a)=>{a.d(E,{Z:()=>o}),a(9335),a(3378),a(9366);const o=()=>null},9923:(D,E,a)=>{a.d(E,{$:()=>_});var p=a(5303),i=a(7675);class _{constructor(){}currentUser(){return(0,p.Z)().getAuthenticatedUser()}login(b,c){return(0,p.Z)().loginUser(b,c).then(y=>y)}register(b,c){return(0,p.Z)().registerUser(b,c).then(y=>y)}resetPassword(b){return(0,p.Z)().forgetPassword(b).then(c=>c.data)}logout(){(0,p.Z)().logout()}}_.\u0275fac=function(b){return new(b||_)},_.\u0275prov=i.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})},599:(D,E,a)=>{a.d(E,{i:()=>h});var p=a(7675),I=a(8697);class h{constructor(c){this.http=c}getAll(){return this.http.get("/api/login")}register(c){return this.http.post("/users/register",c)}}h.\u0275fac=function(c){return new(c||h)(p.\u0275\u0275inject(I.HttpClient))},h.\u0275prov=p.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})},9775:(D,E,a)=>{a.r(E),a.d(E,{UserFrontModule:()=>A});var p=a(5228),i=a(533),I=a(5250),_=a(3781),h=a(6380),b=a(2618),c=a(9707),y=a(5006),v=a(6143),o=a(1542),f=a(3078),g=a(7011),d=a(1042),e=a(7675);function F(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",39),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.error)}}function N(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName is required"),e.\u0275\u0275elementEnd())}function w(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName must be a valid userName address"),e.\u0275\u0275elementEnd())}function M(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,N,2,0,"div",41),e.\u0275\u0275template(2,w,2,0,"div",41),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loginInvalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loginInvalid)}}function ae(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required"),e.\u0275\u0275elementEnd())}function le(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,ae,2,0,"div",41),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loginInvalid)}}const re=function(r){return{"is-invalid":r}};class k{constructor(t,n,s,l,m,S,C,x,X){this.logger=t,this.svSio=n,this.svWss=s,this.svUser=l,this.svSess=m,this.svMenu=S,this.svNav=C,this.route=x,this.svBase=X,this.debug=!0,this.resourceGuid=(0,d.Z)(),this.loginInvalid=!1,this.rememberMe=!0,this.submitted=!1,this.error="",this.socketData=[],this.svSio.env=v.N,this.svSio.initSio(null,null),this.fg=new i.FormGroup({userName:new i.FormControl,password:new i.FormControl,rememberMe:new i.FormControl})}ngOnInit(){this.logger.info("cd-user-v2::LoginComponent::ngOnInit()/StorageType.CdObjId:",o.StorageType.CdObjId);const t={storageType:o.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::LoginComponent::ngOnInit()/filter:",t),this.sidebarInitData=this.searchLocalStorage(t),this.logger.info("user/LoginComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const n=localStorage.getItem("socketData");if(n){let l=function(m){return"appInit"===m.name?m:null};this.socketData=JSON.parse(n).filter(l),this.logger.info("user/LoginComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid")}login(t){this.logger.info("starting user/LoginComponent::login");let n=t.value;const s=t.valid;this.logger.info("user/LoginComponent::login/01"),this.logger.info("user/LoginComponent::login/fg:",t),this.logger.info("user/LoginComponent::login/valid:",s),this.submitted=!0,n=Object.assign({},n,{consumerGuid:v.N.consumerToken});try{this.logger.info("user/LoginComponent::login/02"),s&&(this.logger.info("user/LoginComponent::login/03"),this.initSession(n))}catch{this.logger.info("user/LoginComponent::login/04"),this.errMsg="Something went wrong!!",this.loginInvalid=!0}}initSession(t){this.logger.info("user/LoginComponent::initSession/01"),this.svUser.auth$(t).subscribe(n=>{if(!0===n.app_state.success){if(this.logger.info("user/LoginComponent::initSession/res:",JSON.stringify(n)),this.svSess.appState=n.app_state,null!==n.app_state.sess.cd_token&&n.app_state.success){this.logger.info("user/LoginComponent::initSession/02");const s=this.configPushPayload("login","push-menu",n.data.userData.userId);s.pushData.m=n.data.menuData,this.logger.info("user/LoginComponent::initSession/envl:",s),"sio"===v.N.wsMode&&(this.logger.info("user/LoginComponent::initSession/envl:...useing sio"),this.svSio.sendPayLoad(s)),"wss"===v.N.wsMode&&(this.logger.info("user/LoginComponent::initSession/envl:...useing wss"),this.svWss.sendMsg(s)),this.svSess.createSess(n,this.svMenu),this.svUser.currentUser={name:`${n.data.userData.userName}`,picture:`${v.N.shellHost}/user-resources/${n.data.userData.userGuid}/avatar-01/a.jpg`},this.svNav.userMenu=[{title:"Profile",link:"/pages/cd-auth/register"},{title:"Log out",link:"/pages/cd-auth/logout"}];const l={queryParams:{token:n.app_state.sess.cd_token},skipLocationChange:!0,replaceUrl:!1};this.route.navigate(["/dashboard"],l),this.route.navigate([v.N.initialPage],l)}}else this.errMsg="The userName and password were not valid",this.loginInvalid=!0,this.svSess.logout()})}configPushPayload(t,n,s){this.logger.info("starting cd-user-v2::LoginComponent::configPushPayload()");const l={pushData:{pushGuid:"",m:"",pushRecepients:[],triggerEvent:"",emittEvent:"",token:"",isNotification:null,appSockets:this.socketData,commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}},req:null,resp:null},m=[{userId:s,subTypeId:1,cdObjId:{appId:v.N.appId,ngModule:"UserFrontModule",resourceName:"LoginComponent",resourceGuid:(0,d.Z)(),jwtToken:"",socket:null,socketId:"",commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}}}],S={...l};S.pushData.triggerEvent=t,S.pushData.emittEvent=n;const C={...m[0]};C.subTypeId=1,S.pushData.pushRecepients.push(C),this.logger.info("cd-user-v2::LoginComponent::configPushPayload()/this.sidebarInitData:",JSON.stringify(this.sidebarInitData)),this.logger.info("cd-user-v2::LoginComponent::configPushPayload()/this.sidebarInitData.value:",JSON.stringify(this.sidebarInitData.value));const x={...m[0]};return x.subTypeId=7,this.logger.info("cd-user-v2::LoginComponent::configPushPayload()/uRecepient:",JSON.stringify(x)),x.cdObjId=this.sidebarInitData.value,S.pushData.pushRecepients.push(x),this.logger.info("cd-user-v2::LoginComponent::configPushPayload()/envl:",JSON.stringify(S)),S}searchLocalStorage(t){this.logger.info("starting LoginComponent::searchLocalStorage()/lcLength:");const n=[],s=localStorage.length;this.logger.info("LoginComponent::searchLocalStorage()/lcLength:",s);for(let u=0;u<localStorage.length;u++){const L=localStorage.key(u);var m=localStorage.getItem(L);this.logger.info("Key: "+L+", Value: "+m);try{if(this.logger.info("LoginComponent::searchLocalStorage()/1"),"object"==typeof m){this.logger.info("LoginComponent::searchLocalStorage()/2"),this.logger.info("LoginComponent::searchLocalStorage()/v:",m);const O=JSON.parse(m);"success"in O&&(this.logger.info("LoginComponent::searchLocalStorage()/3"),this.logger.info("LoginComponent::searchLocalStorage()/appState:",O)),"resourceGuid"in O&&(this.logger.info("LoginComponent::searchLocalStorage()/4"),this.logger.info("LoginComponent::searchLocalStorage()/cdObjId:",O)),this.logger.info("LoginComponent::searchLocalStorage()/5"),n.push({key:L,value:JSON.parse(m)})}else this.logger.info("LoginComponent::searchLocalStorage()/typeof (v):",typeof m),this.logger.info("LoginComponent::searchLocalStorage()/6"),n.push({key:L,value:JSON.parse(m)})}catch(O){this.logger.info("offending item:",m),this.logger.info("the item is not an object"),this.logger.info("Error:",O)}}this.logger.info("LoginComponent::searchLocalStorage()/lcArr:",n),this.logger.info("LoginComponent::searchLocalStorage()/f.cdObjId!.resourceName:",t.cdObjId.resourceName);const C=u=>"object"==typeof u.value,x=u=>"resourceName"in u.value,X=u=>u.value.resourceName===t.cdObjId.resourceName&&u.value.ngModule===t.cdObjId.ngModule,ne=(u,L)=>u.value.commTrack.initTime>L.value.commTrack.initTime?u:L;let U=null;try{this.debug?(this.logger.info("LoginComponent::searchLocalStorage()/debug=true:"),U=n.filter(u=>"object"==typeof u.value?(this.logger.info("LoginComponent::searchLocalStorage()/filteredByObject: d:",u),u):null).filter(u=>"resourceName"in u.value?(this.logger.info("LoginComponent::searchLocalStorage()/filteredByResourceNameField: d:",u),u):null).filter(u=>(this.logger.info("LoginComponent::searchLocalStorage()/filteredByName: d:",u),this.logger.info("LoginComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",u.value.resourceName),this.logger.info("LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",t.cdObjId.resourceName),this.logger.info("LoginComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",u.value.ngModule),this.logger.info("LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",t.cdObjId.ngModule),u.value.resourceName===t.cdObjId.resourceName&&u.value.ngModule===t.cdObjId.ngModule?u:null)).reduce((u={},L={})=>(this.logger.info("LoginComponent::searchLocalStorage()/prev:",u),this.logger.info("LoginComponent::searchLocalStorage()/current:",L),u.value.commTrack.initTime>L.value.commTrack.initTime?u:L))):(this.logger.info("LoginComponent::searchLocalStorage()/debug=false:"),U=n.filter(C).filter(x).filter(X).reduce(ne)),this.logger.info("LoginComponent::searchLocalStorage()/ret:",U)}catch(u){this.logger.info("Error:",u)}return U}onFocus(){this.errMsg=""}}function de(r,t){1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",42),e.\u0275\u0275text(1,"Registeration successfull. "),e.\u0275\u0275elementEnd()),2&r&&e.\u0275\u0275property("dismissible",!1)}function ce(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.error)}}function ue(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Userame is required"),e.\u0275\u0275elementEnd())}function me(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275template(1,ue,2,0,"div",45),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.username.errors.required)}}function pe(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required"),e.\u0275\u0275elementEnd())}function ge(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email must be a valid email address"),e.\u0275\u0275elementEnd())}function he(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275template(1,pe,2,0,"div",45),e.\u0275\u0275template(2,ge,2,0,"div",45),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.email.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.email.errors.email)}}function fe(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required"),e.\u0275\u0275elementEnd())}function ve(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275template(1,fe,2,0,"div",45),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.password.errors.required)}}function be(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Confirmation of password is required"),e.\u0275\u0275elementEnd())}function ye(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275template(1,be,2,0,"div",45),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loginInvalid)}}k.\u0275fac=function(t){return new(t||k)(e.\u0275\u0275directiveInject(I.NGXLogger),e.\u0275\u0275directiveInject(o.SioClientService),e.\u0275\u0275directiveInject(o.WebsocketService),e.\u0275\u0275directiveInject(o.UserService),e.\u0275\u0275directiveInject(o.SessService),e.\u0275\u0275directiveInject(o.MenuService),e.\u0275\u0275directiveInject(o.NavService),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(o.BaseService))},k.\u0275cmp=e.\u0275\u0275defineComponent({type:k,selectors:[["app-login"]],decls:58,vars:10,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","no-gutters"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["formControlName","userName","id","userName","placeholder","userName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customControlInline",1,"custom-control-input"],["for","customControlInline",1,"custom-control-label"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],["routerLink","/account/reset-password",1,"text-muted"],[1,"mdi","mdi-lock","mr-1"],[1,"mt-5","text-center"],["routerLink","/account/signup",1,"font-weight-medium","text-primary"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Sign in to continue."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return n.login(n.fg)}),e.\u0275\u0275template(22,F,2,2,"ngb-alert",17),e.\u0275\u0275elementStart(23,"div",18),e.\u0275\u0275element(24,"i",19),e.\u0275\u0275elementStart(25,"label",20),e.\u0275\u0275text(26,"User Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",21),e.\u0275\u0275template(28,M,3,2,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",18),e.\u0275\u0275element(30,"i",23),e.\u0275\u0275elementStart(31,"label",24),e.\u0275\u0275text(32,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",25),e.\u0275\u0275template(34,le,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",26),e.\u0275\u0275element(36,"input",27),e.\u0275\u0275elementStart(37,"label",28),e.\u0275\u0275text(38,"Remember me"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",29)(40,"button",30),e.\u0275\u0275text(41,"Log In"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",29)(43,"a",31),e.\u0275\u0275element(44,"i",32),e.\u0275\u0275text(45," Forgot your password?"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",33)(47,"p"),e.\u0275\u0275text(48,"Don't have an account ? "),e.\u0275\u0275elementStart(49,"a",34),e.\u0275\u0275text(50," Register "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"p"),e.\u0275\u0275text(52,"\xa9 2020 ASDAP. Crafted with "),e.\u0275\u0275element(53,"i",35),e.\u0275\u0275text(54," by Themesdesign"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(55,"div",36)(56,"div",37),e.\u0275\u0275element(57,"div",38),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",n.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,re,n.submitted&&n.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.loginInvalid),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,re,n.submitted&&n.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.loginInvalid))},dependencies:[p.NgClass,p.NgIf,g.RouterLink,i.\u0275NgNoValidate,i.DefaultValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.FormGroupDirective,i.FormControlName,h.NgbAlert]});const q=function(r){return{"is-invalid":r}};class B{constructor(){this.debug=!0,this.resourceGuid=(0,d.Z)(),this.loginInvalid=!1,this.rememberMe=!0,this.submitted=!1,this.error="",this.socketData=[],this.successmsg=!1,this.year=(new Date).getFullYear()}ngOnInit(){}get f(){return this.fg.controls}register(t){}}B.\u0275fac=function(t){return new(t||B)},B.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["app-register"]],decls:68,vars:19,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","success",3,"dismissible",4,"ngIf"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","username"],["type","text","formControlName","username","id","username","placeholder","Enter username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"ri-mail-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],[1,"mt-4","text-center"],[1,"mb-0"],["href","#",1,"text-primary"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","success",3,"dismissible"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return n.register(n.fg)}),e.\u0275\u0275template(22,de,2,1,"ngb-alert",17),e.\u0275\u0275template(23,ce,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"i",20),e.\u0275\u0275elementStart(26,"label",21),e.\u0275\u0275text(27,"Username"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",22),e.\u0275\u0275template(29,me,2,1,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",19),e.\u0275\u0275element(31,"i",24),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,he,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275element(37,"i",27),e.\u0275\u0275elementStart(38,"label",28),e.\u0275\u0275text(39,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",29),e.\u0275\u0275template(41,ve,2,1,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",19),e.\u0275\u0275element(43,"i",27),e.\u0275\u0275elementStart(44,"label",30),e.\u0275\u0275text(45,"Confirm Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",31),e.\u0275\u0275template(47,ye,2,1,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",10)(49,"button",32),e.\u0275\u0275text(50,"Register"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",33)(52,"p",34),e.\u0275\u0275text(53,"By registering you agree to the ASDAP "),e.\u0275\u0275elementStart(54,"a",35),e.\u0275\u0275text(55,"Terms of Use"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(56,"div",36)(57,"p"),e.\u0275\u0275text(58,"Already have an account ? "),e.\u0275\u0275elementStart(59,"a",37),e.\u0275\u0275text(60," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"p"),e.\u0275\u0275text(62,"\xa9 2023 ASDAP. Crafted with "),e.\u0275\u0275element(63,"i",38),e.\u0275\u0275text(64," by Themesdesign"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(65,"div",39)(66,"div",40),e.\u0275\u0275element(67,"div",41),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",n.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.successmsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,q,n.submitted&&n.f.username.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.f.username.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,q,n.submitted&&n.f.email.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.f.email.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,q,n.submitted&&n.f.password.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.f.password.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,q,n.submitted&&n.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.loginInvalid))},dependencies:[p.NgClass,p.NgIf,g.RouterLink,i.\u0275NgNoValidate,i.DefaultValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.FormGroupDirective,i.FormControlName,h.NgbAlert]});class V{constructor(){}ngOnInit(){}}V.\u0275fac=function(t){return new(t||V)},V.\u0275cmp=e.\u0275\u0275defineComponent({type:V,selectors:[["app-user-profile"]],decls:2,vars:0,template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"user-profile works!"),e.\u0275\u0275elementEnd())}});var z=a(3635);const Se=new o.FormsService,ee=[{title:"ID",name:"userId",dbName:"user_id",type:o.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"userGuid",dbName:"user_guid",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"userName",dbName:"user_name",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"F.Name",name:"fName",dbName:"f_name",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"M.Name",name:"mName",dbName:"m_name",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"L.Name",name:"lName",dbName:"l_name",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"NID",name:"nationalId",dbName:"national_id",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"PID",name:"passportId",dbName:"passport_id",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(20),i.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(1),i.Validators.maxLength(20),i.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(8),i.Validators.maxLength(14),i.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:o.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.createForm},{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[i.Validators.pattern(o.EMAIL_PATTERN),i.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:o.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:o.ControlType.text,fieldFor:o.FieldFor.tableDisplay},{controlType:o.ControlType.searchDropDown,fieldFor:o.FieldFor.createForm}],ddlInfo:{selData$:(0,z.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[i.Validators.minLength(3),i.Validators.maxLength(42),i.Validators.required]]},{title:"Gender",name:"gender",dbName:"gender",type:o.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.status,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Enabled",name:"userEnabled",dbName:"user_enabled",type:o.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:o.ControlType.status,fieldFor:o.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:o.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:o.ControlType.action,fieldFor:o.FieldFor.tableDisplay},{controlType:o.ControlType.action,fieldFor:o.FieldFor.createForm}],Fn:"createUser"},{title:"Search",name:"iconSearch",type:o.FieldType.any,controls:[],formControlsConfig:["",[]]}],Ce={data:{},valid:null,ctx:"Sys"},T={token:"",stepTitle:"Create User",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"userInfo",cardTitle:"User Information",cardTitleDesc:"Fill all information below",module:"User",controller:"User",formGroup:null,fields:Se.filterByFieldFor(ee,o.FieldFor.createForm)},ie={name:"User Wizard",steps:[T]},G={select:["userId","userName","userGuid"],where:{}},$={getFn$:null,selIndex:G.select[0],selValueField:G.select[1],fetchFields:G.select,step:null,token:null,controlName:"userId"},Ie=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/user/user/create",actionType:o.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/user/user/dashboard",actionType:o.ActionType.navigate}];class Q{constructor(t,n,s,l,m,S,C){this.aRoute=t,this.router=n,this.svBase=s,this.svNazTable=l,this.svAcl=m,this.svPage=S,this.svSess=C,this.dSource={fields:[],data:[]},this.cardTitle="User",this.cardBodyId="user",this.searchInputId="inputSearchUser",this.filter={},this.tpData=o.DEFAULT_TPD,this.ddlData=Ie,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{t&&this.svAcl.initComponent(t,this,this.svSess).then(n=>{})})}init(){this.baseModel=new o.BaseModel(T.module,T.controller),this.svBase.module=T.module,this.svBase.controller=T.controller,this.baseModel.data.fields=ee.filter(t=>t.fetchable||t.type===o.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(T.controller,"List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(t){this.svNazTable.execQuery(t,this.svBase.getPaged$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(t){this.sQuery=t.sQuery,this.execQuery(t)}getSelect(){return this.baseModel.data.fields.filter(t=>t.fetchable).map(t=>t.name)}}Q.\u0275fac=function(t){return new(t||Q)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(o.BaseService),e.\u0275\u0275directiveInject(f.NazTableService),e.\u0275\u0275directiveInject(o.AclService),e.\u0275\u0275directiveInject(f.PageService),e.\u0275\u0275directiveInject(o.SessService))},Q.\u0275cmp=e.\u0275\u0275defineComponent({type:Q,selectors:[["app-list"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(f.NazTableComponent,5),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.nazTable=s.first)}},decls:1,vars:7,consts:[[3,"baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData","searchQuery"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"naz-table",0),e.\u0275\u0275listener("searchQuery",function(l){return n.setSearchQuery(l)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("baseModel",n.baseModel)("cardTitle",n.cardTitle)("cardBodyId",n.cardBodyId)("searchInputId",n.searchInputId)("tpData",n.tpData)("filter",n.filter)("ddlData",n.ddlData)},dependencies:[f.NazTableComponent]});var te=a(5861);class W{constructor(t,n,s,l,m,S,C){this.aRoute=t,this.router=n,this.svBase=s,this.svPage=l,this.svSess=m,this.svAcl=S,this.svNotif=C,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(n=>{})})}init(){this.baseModel=new o.BaseModel(T.module,T.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(T.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(t){var n=this;return(0,te.Z)(function*(){n.svBase.update$(t,n.baseModel.token).subscribe(s=>{n.svNotif.emitNotif({pushRecepients:o.DEFAULT_PUSH_RECEPIENTS,pushData:s,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:s})})})()}}W.\u0275fac=function(t){return new(t||W)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(o.BaseService),e.\u0275\u0275directiveInject(f.PageService),e.\u0275\u0275directiveInject(o.SessService),e.\u0275\u0275directiveInject(o.AclService),e.\u0275\u0275directiveInject(o.NotificationService))},W.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["app-edit"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","updateQuery"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"naz-table-edit",0),e.\u0275\u0275listener("updateQuery",function(l){return n.update(l)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[f.EditComponent]});class K{constructor(t,n,s,l,m,S,C){this.aRoute=t,this.router=n,this.svBase=s,this.svPage=l,this.svAcl=m,this.svNotif=S,this.svSess=C,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(n=>{})})}init(){this.baseModel=new o.BaseModel(T.module,T.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(T.controller,"Delete"),this.baseModel.data.subTitle="confirm before delete"}deleteItem(t){var n=this;return(0,te.Z)(function*(){n.svBase.delete$(t,n.baseModel.token).subscribe(s=>{n.svNotif.emitNotif({pushRecepients:o.DEFAULT_PUSH_RECEPIENTS,pushData:s,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:s})})})()}}K.\u0275fac=function(t){return new(t||K)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(o.BaseService),e.\u0275\u0275directiveInject(f.PageService),e.\u0275\u0275directiveInject(o.AclService),e.\u0275\u0275directiveInject(o.NotificationService),e.\u0275\u0275directiveInject(o.SessService))},K.\u0275cmp=e.\u0275\u0275defineComponent({type:K,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","deleteQuery"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"naz-table-delete",0),e.\u0275\u0275listener("deleteQuery",function(l){return n.deleteItem(l)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[f.DeleteComponent]});class P{constructor(t,n,s){this.svMenu=t,this.svNotif=n,this.svForm=s,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(t,n){t.fields.map((s,l)=>{s.name===n&&(t.fields[l].ddlInfo.selData$=(0,z.of)(this.ddlData),t.fields[l].ddlInfo.selIndex="iconId",t.fields[l].ddlInfo.selValueField="iconName",t.fields[l].ddlInfo.selPlaceholder="...Choose")})}setDdl$(t){if(t.token){const n=new z.Subject;let s=[];return t.getFn$.subscribe(l=>{const m=l;console.log("ModulemanService::setDdl$()/response:",m),m.app_state.success?(s=m.data.items,t.step.fields.map((S,C)=>{S.name===t.controlName&&(t.step.fields[C].ddlInfo.selData$=(0,z.of)(m.data.items),t.step.fields[C].ddlInfo.selIndex=t.selIndex,t.step.fields[C].ddlInfo.selValueField=t.selValueField,t.step.fields[C].ddlInfo.selPlaceholder="...Choose")}),n.next(s)):(this.pushEnvelop.pushData=m,this.pushEnvelop.resp=m,this.svNotif.emitNotif(this.pushEnvelop),n.next(s))}),n.asObservable()}return(0,z.of)([])}}P.\u0275fac=function(t){return new(t||P)(e.\u0275\u0275inject(o.MenuService),e.\u0275\u0275inject(o.NotificationService),e.\u0275\u0275inject(o.FormsService))},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});class j{constructor(t,n){this.svBase=t,this.svUserBase=n}loadDdls(t,n){var s=this;return(0,te.Z)(function*(){$.token=t.token,$.step=n,$.controlName="userId",console.log("ConsumerModService::loadDdls()/userGetQuery:",G),$.getFn$=s.svBase.getPaged$(G,t.token,"Sys","Moduleman","Company"),yield s.svUserBase.setDdl$(yield $).subscribe(l=>{console.log("menu/ConsumerModService::loadDdls()/ret(companies):",l),n.fields.forEach(m=>{"userId"===m.name&&(m.ddlInfo.data=l)})})})()}}j.\u0275fac=function(t){return new(t||j)(e.\u0275\u0275inject(o.BaseService),e.\u0275\u0275inject(P))},j.\u0275prov=e.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"});class Z{constructor(t,n,s,l,m,S,C,x,X,ne,U,u){this.aRoute=t,this.router=n,this.svAcl=s,this.svForm=l,this.svNotif=m,this.fb=S,this.svForms=C,this.svPage=x,this.svPush=X,this.svBase=ne,this.svUserFront=U,this.svSess=u,this.newUser=Ce,this.wizardModel=ie,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(n=>{n&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svUserFront.loadDdls(this.baseModel,this.baseModel.data.step).then(t=>{console.log("user/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new o.BaseModel(T.module,T.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(ee,o.FieldFor.createForm),this.baseModel.data.wizardModel=ie,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,T.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(ee)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(T.controller,"Create")}setSelectedIcon(t){this.svForm.setSelectedIcon(t,this.baseModel,this.baseModel.data.step)}save(t){let n;switch(t.controller){case"module":case"menu":break;case"user":n=this.svBase.create$(this.newUser,this.baseModel.token),this.svForm.saveForm(t,this.newUser,n,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}Z.\u0275fac=function(t){return new(t||Z)(e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(o.AclService),e.\u0275\u0275directiveInject(o.FormsService),e.\u0275\u0275directiveInject(o.NotificationService),e.\u0275\u0275directiveInject(i.FormBuilder),e.\u0275\u0275directiveInject(o.FormsService),e.\u0275\u0275directiveInject(f.PageService),e.\u0275\u0275directiveInject(o.CdPushService),e.\u0275\u0275directiveInject(o.BaseService),e.\u0275\u0275directiveInject(j),e.\u0275\u0275directiveInject(o.SessService))},Z.\u0275cmp=e.\u0275\u0275defineComponent({type:Z,selectors:[["app-create"]],decls:2,vars:0,template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"create works!"),e.\u0275\u0275elementEnd())}});class H{constructor(){}ngOnInit(){}}H.\u0275fac=function(t){return new(t||H)},H.\u0275cmp=e.\u0275\u0275defineComponent({type:H,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"dashboard works!"),e.\u0275\u0275elementEnd())}});var _e=a(5893),se=a(9923),Fe=a(599);class J{constructor(t,n,s,l,m){this.formBuilder=t,this.route=n,this.router=s,this.authenticationService=l,this.userService=m,this.submitted=!1,this.error="",this.successmsg=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.signupForm=this.formBuilder.group({username:["",i.Validators.required],email:["",[i.Validators.required,i.Validators.email]],password:["",i.Validators.required]})}ngAfterViewInit(){}get f(){return this.signupForm.controls}onSubmit(){this.submitted=!0,!this.signupForm.invalid&&("firebase"===v.N.defaultauth?this.authenticationService.register(this.f.email.value,this.f.password.value).then(t=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/"])}).catch(t=>{this.error=t||""}):this.userService.register(this.signupForm.value).pipe((0,_e.first)()).subscribe(t=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/account/login"])},t=>{this.error=t||""}))}}J.\u0275fac=function(t){return new(t||J)(e.\u0275\u0275directiveInject(i.UntypedFormBuilder),e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(se.$),e.\u0275\u0275directiveInject(Fe.i))},J.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["app-signup"]],decls:32,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"p"),e.\u0275\u0275text(22,"Already have an account ? "),e.\u0275\u0275elementStart(23,"a",16),e.\u0275\u0275text(24," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"p"),e.\u0275\u0275text(26,"\xa9 2023 ASDAP. Crafted with "),e.\u0275\u0275element(27,"i",17),e.\u0275\u0275text(28," by Themesdesign"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(29,"div",18)(30,"div",19),e.\u0275\u0275element(31,"div",20),e.\u0275\u0275elementEnd()()()()())}});class Y{constructor(t,n,s,l){this.formBuilder=t,this.route=n,this.router=s,this.authenticationService=l,this.submitted=!1,this.error="",this.success="",this.loading=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.resetForm=this.formBuilder.group({email:["",[i.Validators.required,i.Validators.email]]})}ngAfterViewInit(){}get f(){return this.resetForm.controls}onSubmit(){this.success="",this.submitted=!0,!this.resetForm.invalid&&"firebase"===v.N.defaultauth&&this.authenticationService.resetPassword(this.f.email.value).catch(t=>{this.error=t||""})}}Y.\u0275fac=function(t){return new(t||Y)(e.\u0275\u0275directiveInject(i.UntypedFormBuilder),e.\u0275\u0275directiveInject(g.ActivatedRoute),e.\u0275\u0275directiveInject(g.Router),e.\u0275\u0275directiveInject(se.$))},Y.\u0275cmp=e.\u0275\u0275defineComponent({type:Y,selectors:[["app-passwordreset"]],decls:35,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],["role","alert",1,"alert","alert-success","mb-4"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Reset Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Reset your password to ASDAP."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"div",16),e.\u0275\u0275text(22," Enter your Email and instructions will be sent to you! "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",17)(24,"p"),e.\u0275\u0275text(25,"Don't have an account ? "),e.\u0275\u0275elementStart(26,"a",18),e.\u0275\u0275text(27," Log in "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"p"),e.\u0275\u0275text(29,"\xa9 2023 ASDAP. Crafted with "),e.\u0275\u0275element(30,"i",19),e.\u0275\u0275text(31," by Themesdesign"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(32,"div",20)(33,"div",21),e.\u0275\u0275element(34,"div",22),e.\u0275\u0275elementEnd()()()()())}});const Te=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"login",component:k},{path:"register",component:B},{path:"profile",component:V},{path:"list",component:Q},{path:"edit",component:W},{path:"delete",component:K},{path:"create",component:Z},{path:"signup",component:J},{path:"passwordreset",component:Y},{path:"dashboard",component:H}];class R{constructor(t){this.router=t,t.events.subscribe(n=>{console.log("CdUser::UserRoutingModule::constructor()/routeState:",n)})}}R.\u0275fac=function(t){return new(t||R)(e.\u0275\u0275inject(g.Router))},R.\u0275mod=e.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.RouterModule.forChild(Te),g.RouterModule]});class A{}A.\u0275fac=function(t){return new(t||A)},A.\u0275mod=e.\u0275\u0275defineNgModule({type:A}),A.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.CommonModule,R,i.FormsModule,i.ReactiveFormsModule,I.LoggerModule.forRoot({level:I.NgxLoggerLevel.TRACE,serverLogLevel:I.NgxLoggerLevel.OFF,serverLoggingUrl:"/api/logs",disableConsoleLogging:!1,enableSourceMaps:!0,colorScheme:["purple","teal","gray","gray","red","red","red"]}),h.NgbNavModule,h.NgbDropdownModule,h.NgbTooltipModule,h.NgbAccordionModule,f.NazUiModule,f.NazTableModule,f.NazCreateModule,f.NazEditModule,f.NazDeleteModule,h.NgbAlertModule,b.Ng2SearchPipeModule,c.ArchwizardModule,y.NgToggleModule,_.NgSelectModule,o.BaseModule.forChild(v.N),o.UserModule.forChild(v.N),o.CdPushModule.forChild(v.N)]})},6143:(D,E,a)=>{a.d(E,{N:()=>c});const p="https://cd-api.co.ke",c={appId:"",production:!1,apiEndpoint:`${p}:3001/api`,sioEndpoint:`${p}:3002/sio`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"wss",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},1042:(D,E,a)=>{a.d(E,{Z:()=>g});var p,i=new Uint8Array(16);function I(){if(!p&&!(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(i)}const _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,b=function h(d){return"string"==typeof d&&_.test(d)};for(var c=[],y=0;y<256;++y)c.push((y+256).toString(16).substr(1));const g=function f(d,e,F){var N=(d=d||{}).random||(d.rng||I)();if(N[6]=15&N[6]|64,N[8]=63&N[8]|128,e){F=F||0;for(var w=0;w<16;++w)e[F+w]=N[w];return e}return function v(d){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=(c[d[e+0]]+c[d[e+1]]+c[d[e+2]]+c[d[e+3]]+"-"+c[d[e+4]]+c[d[e+5]]+"-"+c[d[e+6]]+c[d[e+7]]+"-"+c[d[e+8]]+c[d[e+9]]+"-"+c[d[e+10]]+c[d[e+11]]+c[d[e+12]]+c[d[e+13]]+c[d[e+14]]+c[d[e+15]]).toLowerCase();if(!b(F))throw TypeError("Stringified UUID is invalid");return F}(N)}},5861:(D,E,a)=>{function p(I,_,h,b,c,y,v){try{var o=I[y](v),f=o.value}catch(g){return void h(g)}o.done?_(f):Promise.resolve(f).then(b,c)}function i(I){return function(){var _=this,h=arguments;return new Promise(function(b,c){var y=I.apply(_,h);function v(f){p(y,b,c,v,o,"next",f)}function o(f){p(y,b,c,v,o,"throw",f)}v(void 0)})}}a.d(E,{Z:()=>i})}}]);