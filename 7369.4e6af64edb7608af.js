(self.webpackChunkcd_user=self.webpackChunkcd_user||[]).push([[7369,5946],{5303:(M,_,d)=>{d.d(_,{Z:()=>i}),d(9335),d(3378),d(9366);const i=()=>null},9923:(M,_,d)=>{d.d(_,{$:()=>u});var v=d(5303),s=d(7675);let u=(()=>{class m{constructor(){}currentUser(){return(0,v.Z)().getAuthenticatedUser()}login(N,g){return(0,v.Z)().loginUser(N,g).then(h=>h)}register(N,g){return(0,v.Z)().registerUser(N,g).then(h=>h)}resetPassword(N){return(0,v.Z)().forgetPassword(N).then(g=>g.data)}logout(){(0,v.Z)().logout()}static#e=this.\u0275fac=function(g){return new(g||m)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},599:(M,_,d)=>{d.d(_,{i:()=>m});var v=d(7675),S=d(8697);let m=(()=>{class L{constructor(g){this.http=g}getAll(){return this.http.get("/api/login")}register(g){return this.http.post("/users/register",g)}static#e=this.\u0275fac=function(h){return new(h||L)(v.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=v.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},7369:(M,_,d)=>{d.r(_),d.d(_,{UserFrontModule:()=>Xe});var v=d(5228),s=d(533),S=d(5250),u=d(3781),m=d(6380),L=d(1968),N=d(9707),g=d(5006),h=d(6143),i=d(977),y=d(5561),p=d(7011),I=d(9444),e=d(7675),D=d(7957),E=d(3635);let R=(()=>{class r{constructor(){this.socket=(0,D.io)(h.N.sioEndpoint,h.N.sioOptions)}sendMessage(t,o){console.log("SioClientTestService::sendMessage2()/:triggerEvent:",t),console.log("SioClientTestService::sendMessage2()/:payLoadStr:",o);const n=JSON.stringify(o);return this.socket.emit(t,n),new E.Observable(c=>{this.socket.on("messageSent",l=>{c.next(l),c.complete()}),this.socket.on("error",l=>{c.error(l)})})}sioListen(t){return(0,E.fromEvent)(this.socket,t)}onUserJoined(){return(0,E.fromEvent)(this.socket,"userJoined")}onUserLeft(){return(0,E.fromEvent)(this.socket,"userLeft")}onCustomEvent(t){return(0,E.fromEvent)(this.socket,t)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function O(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function A(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName is required"),e.\u0275\u0275elementEnd())}function U(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName must be a valid userName address"),e.\u0275\u0275elementEnd())}function B(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275template(1,A,2,0,"div",40),e.\u0275\u0275template(2,U,2,0,"div",40),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid)}}function Y(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required"),e.\u0275\u0275elementEnd())}function X(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275template(1,Y,2,0,"div",40),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid)}}const Q=function(r){return{"is-invalid":r}};let ee=(()=>{class r{constructor(t,o,n,c,l,T,C,w,k,j){this.logger=t,this.svSio=o,this.svSioTest=n,this.svWss=c,this.svUser=l,this.svSess=T,this.svMenu=C,this.svNav=w,this.route=k,this.svBase=j,this.debug=!0,this.resourceGuid=(0,I.v4)(),this.loginInvalid=!1,this.rememberMe=!0,this.submitted=!1,this.error="",this.socketData=[],this.routParams={queryParams:{token:""},skipLocationChange:!0,replaceUrl:!1},this.fg=new s.FormGroup({userName:new s.FormControl,password:new s.FormControl,rememberMe:new s.FormControl})}ngOnInit(){this.logger.info("cd-user/LoginComponent::ngOnInit()/StorageType.CdObjId:",i.StorageType.CdObjId),this.initialize()}login(t){this.logger.info("starting cd-user/LoginComponent::login");let o=t.value;const n=t.valid;this.logger.info("cd-user/LoginComponent::login/01"),this.logger.info("cd-user/LoginComponent::login/fg:",t),this.logger.info("cd-user/LoginComponent::login/valid:",n),this.submitted=!0,o=Object.assign({},o,{consumerGuid:h.N.consumerToken});try{this.logger.info("cd-user/LoginComponent::login/02"),n&&(this.logger.info("cd-user/LoginComponent::login/03"),this.initSession(o))}catch{this.logger.info("cd-user/LoginComponent::login/04"),this.errMsg="Something went wrong!!",this.loginInvalid=!0}}initialize(){this.logger.info("cd-user/LoginComponent::initialize()/01");const t={storageType:i.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user/LoginComponent::initialize()/filter:",t),this.sidebarInitData=this.searchLocalStorage(t),this.logger.info("cd-user/LoginComponent::initialize()/this.sidebarInitData:",this.sidebarInitData);const o=localStorage.getItem("socketData");if(o){let c=function(l){return"appInit"===l.name?l:null};this.socketData=JSON.parse(o).filter(c),this.logger.info("cd-user/LoginComponent::initialize()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid");this.setAppId()}setAppId(){console.log("cd-user/LoginComponent::setAppId()/01"),console.log("cd-user/LoginComponent::setAppId()/this.svSio.socket:",this.svSio.socket),localStorage.removeItem("appId");const t=localStorage.getItem("appId");console.log("cd-user/LoginComponent::setAppId()/appId:",t);const o=this.configPushPayload("register-client","push-registered-client",1e3);console.log("cd-user/LoginComponent::setAppId()/envl:",o),this.listen("push-registered-client"),this.listen("push-msg-relayed"),this.listen("push-msg-pushed"),this.listen("push-delivered"),this.listen("msg-relayed"),this.listen("msg-menu"),this.listen("push-menu"),this.sendSioMessage(o)}initSession(t){this.logger.info("cd-user/LoginComponent::initSession/01"),this.svUser.auth$(t).subscribe(o=>{if(!0===o.app_state.success){if(this.logger.info("cd-user/LoginComponent::initSession/res:",JSON.stringify(o)),this.svSess.appState=o.app_state,null!==o.app_state.sess.cd_token&&o.app_state.success){this.logger.info("cd-user/LoginComponent::initSession/02");const n=this.configPushPayload("login","push-menu",o.data.userData.userId);n.pushData.m=o.data.menuData,n.pushData.token=o.app_state.sess.cd_token,this.logger.info("cd-user/LoginComponent::initSession/envl:",n),"sio"===h.N.wsMode&&(this.logger.info("cd-user/LoginComponent::initSession/envl:...using sio"),this.sendSioMessage(n)),"wss"===h.N.wsMode&&(this.logger.info("cd-user/LoginComponent::initSession/envl:...using wss"),this.svWss.sendMsg(n)),this.svSess.createSess(o,this.svMenu),this.svUser.currentUser={name:`${o.data.userData.userName}`,picture:`${h.N.shellHost}/user-resources/${o.data.userData.userGuid}/avatar-01/a.jpg`},this.svNav.userMenu=[{title:"Profile",link:"/pages/cd-auth/register"},{title:"Log out",link:"/pages/cd-auth/logout"}];const c={queryParams:{token:o.app_state.sess.cd_token},skipLocationChange:!0,replaceUrl:!1};this.route.navigate(["/dashboard"],c),this.route.navigate([h.N.initialPage],c)}}else this.errMsg="The userName and password were not valid",this.loginInvalid=!0,this.svSess.logout()})}listen(t){this.logger.info("cd-shell/cd-user/LoginComponent::listen/event:",t),this.svSioTest.sioListen(t).subscribe({next:o=>{switch(console.log("cd-user/LoginComponent::pushSubscribe()/payLoad:",o),o.pushData.emittEvent){case"push-msg-relayed":console.log("cd-user/LoginComponent::listenSecure()/push-msg-relayed/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-msg-relayed/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-msg-relayed event"),this.updateRelayed(o);break;case"push-msg-pushed":console.log("cd-user/LoginComponent::listenSecure()/push-msg-pushed/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-msg-pushed/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-msg-pushed event"),this.notificationAcceptDelivery(o);break;case"push-delivered":console.log("cd-user/LoginComponent::listenSecure()/push-delivered/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-delivered/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-delivered-client event"),this.notificationMsgComplete(o);break;case"push-registered-client":console.log("cd-user/LoginComponent::listenSecure()/push-registered-client/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-registered-client/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-registered-client event"),this.saveSocket(o);break;case"msg-relayed":console.log("cd-user/LoginComponent::listenSecure()/msg-relayed/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/msg-relayed/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle msg-relayed event");break;case"push-msg-completed":console.log("cd-user/LoginComponent::listenSecure()/push-msg-completed/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-msg-completed/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-msg-completed event");break;case"push-srv-received":console.log("cd-user/LoginComponent::listenSecure()/push-srv-received/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-srv-received/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("handle push-srv-received event");break;case"push-menu":console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad.pushData.emittEvent:",o.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad.pushData.triggerEvent:",o.pushData.triggerEvent),console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad:",o),console.log("handle push-menu event"),this.routParams.queryParams.token=o.pushData.token}},error:o=>{console.error("cd-shell/cd-user/LoginComponent::listen/Error receiving message:",o)},complete:()=>{console.log("cd-shell/cd-user/LoginComponent::listen/Message subscription complete")}})}notificationAcceptDelivery(t){console.log("cdUiLib::SioClientService::notificationAcceptDelivery()/01"),console.log("cdUiLib::SioClientService::notificationAcceptDelivery()/senderAcceptDelivery:",t),t.pushData.commTrack.deliveryTime=Number(new Date),t.pushData.commTrack.delivered=!0,t.pushData.isNotification=!0,t.pushData.triggerEvent="msg-received",this.sendSioMessage(t)}notificationMsgComplete(t){console.log("cdUiLib::SioClientService::notificationMsgComplete()/01"),console.log("cdUiLib::SioClientService::notificationMsgComplete()/1:",t),t.pushData.commTrack.completedTime=Number(new Date),t.pushData.commTrack.completed=!0,t.pushData.isNotification=!0,t.pushData.triggerEvent="msg-completed",console.log("cdUiLib::SioClientService::notificationMsgComplete/2:",t),this.sendSioMessage(t)}sendSioMessage(t){this.logger.info("cd-user/LoginComponent::sendSioMessage/envl:",t),this.svSioTest.sendMessage(t.pushData.triggerEvent,t).subscribe({next:o=>{console.log("Message sent successfully:",o)},error:o=>{console.error("Error sending message:",o)},complete:()=>{console.log("Message sending complete")}})}configPushPayload(t,o,n){console.log("starting cd-user::LoginComponent::configPushPayload()"),this.resourceGuid=this.svBase.getGuid();const c={pushData:{pushGuid:"",m:"",pushRecepients:[],triggerEvent:"",emittEvent:"",token:"",isNotification:null,appSockets:this.socketData,isAppInit:!0,commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}},req:null,resp:null};console.log("cd-user::LoginComponent::configPushPayload()/this.resourceGuid:",this.resourceGuid);const l=this.resourceGuid,T={appId:localStorage.getItem("appId"),ngModule:"UserFrontModule",resourceName:"LoginComponent",resourceGuid:this.resourceGuid,jwtToken:this.jwtWsToken,socket:null,socketId:"",commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}};localStorage.setItem(l,JSON.stringify(T));const C=[{userId:n,subTypeId:1,cdObjId:T}],w={...c};w.pushData.triggerEvent=t,w.pushData.emittEvent=o;const k={...C[0]};if(k.subTypeId=1,w.pushData.pushRecepients.push(k),"login"===t){this.logger.info("cd-user/LoginComponent::configPushPayload()/triggerEvent==login:"),this.logger.info("cd-user/LoginComponent::configPushPayload()/this.sidebarInitData:",JSON.stringify(this.sidebarInitData)),this.logger.info("cd-user/LoginComponent::configPushPayload()/this.sidebarInitData.value:",JSON.stringify(this.sidebarInitData.value));const j={...C[0]};j.subTypeId=7,this.logger.info("cd-user/LoginComponent::configPushPayload()/uRecepient:",JSON.stringify(j)),j.cdObjId=this.sidebarInitData.value,w.pushData.pushRecepients.push(j)}return this.logger.info("cd-user/LoginComponent::configPushPayload()/envl:",JSON.stringify(w)),w}saveSocket(t){console.log("cd-user/LoginComponent::saveSocket()/payLoad:",t);const o=t.pushData.appSockets.filter(function n(c){return"appInit"===c.name?c:null});if(o.length>0){const c=JSON.stringify(o);localStorage.removeItem("socketData"),localStorage.setItem("socketData",c)}}updateRelayed(t){console.log("updateRelayed()/01"),console.log("updateRelayed()/payLoad:",t)}searchLocalStorage(t){this.logger.info("starting cd-user/LoginComponent::searchLocalStorage()/lcLength:"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/f:",t);const o=[],n=localStorage.length;this.logger.info("cd-user/LoginComponent::searchLocalStorage()/lcLength:",n);for(let a=0;a<localStorage.length;a++){const b=localStorage.key(a);var l=localStorage.getItem(b);this.logger.info("Key: "+b+", Value: "+l);try{if(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/1"),"object"==typeof l){this.logger.info("cd-user/LoginComponent::searchLocalStorage()/2"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/v:",l);const F=JSON.parse(l);"success"in F&&(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/3"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/appState:",F)),"resourceGuid"in F&&(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/4"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/cdObjId:",F)),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/5"),o.push({key:b,value:JSON.parse(l)})}else this.logger.info("cd-user/LoginComponent::searchLocalStorage()/typeof (v):",typeof l),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/6"),o.push({key:b,value:JSON.parse(l)})}catch(F){this.logger.info("offending item:",l),this.logger.info("the item is not an object"),this.logger.info("Error:",F)}}this.logger.info("cd-user/LoginComponent::searchLocalStorage()/lcArr:",o),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/f.cdObjId!.resourceName:",t.cdObjId.resourceName);const C=a=>"object"==typeof a.value,w=a=>"resourceName"in a.value,k=a=>a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule,j=(a,b)=>a.value.commTrack.initTime>b.value.commTrack.initTime?a:b;let x=null;try{this.debug?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/debug=true:"),x=o.filter(a=>"object"==typeof a.value?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByObject: d:",a),a):null).filter(a=>"resourceName"in a.value?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByResourceNameField: d:",a),a):null).filter(a=>(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d:",a),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",a.value.resourceName),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",t.cdObjId.resourceName),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",a.value.ngModule),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",t.cdObjId.ngModule),a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule?a:null)).reduce((a={},b={})=>(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/prev:",a),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/current:",b),a.value.commTrack.initTime>b.value.commTrack.initTime?a:b))):(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/debug=false:"),x=o.filter(C).filter(w).filter(k).reduce(j)),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/ret:",x)}catch(a){this.logger.info("Error:",a)}return x}onFocus(){this.errMsg=""}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(S.NGXLogger),e.\u0275\u0275directiveInject(i.SioClientService),e.\u0275\u0275directiveInject(R),e.\u0275\u0275directiveInject(i.WebsocketService),e.\u0275\u0275directiveInject(i.UserService),e.\u0275\u0275directiveInject(i.SessService),e.\u0275\u0275directiveInject(i.MenuService),e.\u0275\u0275directiveInject(i.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-login"]],decls:56,vars:10,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","no-gutters"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["formControlName","userName","id","userName","placeholder","userName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customControlInline",1,"custom-control-input"],["for","customControlInline",1,"custom-control-label"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],["routerLink","/account/reset-password",1,"text-muted"],[1,"mdi","mdi-lock","mr-1"],[1,"mt-5","text-center"],["routerLink","/account/signup",1,"font-weight-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Sign in to continue."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return n.login(n.fg)}),e.\u0275\u0275template(22,O,2,2,"ngb-alert",17),e.\u0275\u0275elementStart(23,"div",18),e.\u0275\u0275element(24,"i",19),e.\u0275\u0275elementStart(25,"label",20),e.\u0275\u0275text(26,"User Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",21),e.\u0275\u0275template(28,B,3,2,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",18),e.\u0275\u0275element(30,"i",23),e.\u0275\u0275elementStart(31,"label",24),e.\u0275\u0275text(32,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",25),e.\u0275\u0275template(34,X,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",26),e.\u0275\u0275element(36,"input",27),e.\u0275\u0275elementStart(37,"label",28),e.\u0275\u0275text(38,"Remember me"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",29)(40,"button",30),e.\u0275\u0275text(41,"Log In"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",29)(43,"a",31),e.\u0275\u0275element(44,"i",32),e.\u0275\u0275text(45," Forgot your password?"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",33)(47,"p"),e.\u0275\u0275text(48,"Don't have an account ? "),e.\u0275\u0275elementStart(49,"a",34),e.\u0275\u0275text(50," Register "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"p"),e.\u0275\u0275text(52,"\xa9 2020 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(53,"div",35)(54,"div",36),e.\u0275\u0275element(55,"div",37),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",n.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,Q,n.submitted&&n.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.loginInvalid),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,Q,n.submitted&&n.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.loginInvalid))},dependencies:[v.NgClass,v.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,m.NgbAlert]})}return r})();var q=d(7217);function te(r,f){1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",41),e.\u0275\u0275text(1,"Registeration successfull. "),e.\u0275\u0275elementEnd()),2&r&&e.\u0275\u0275property("dismissible",!1)}function oe(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function re(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username is required."),e.\u0275\u0275elementEnd())}function ne(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username must be at least 3 characters long."),e.\u0275\u0275elementEnd())}function ie(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function se(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,re,2,0,"div",23),e.\u0275\u0275template(2,ne,2,0,"div",23),e.\u0275\u0275template(3,ie,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.maxlength)}}function ae(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required."),e.\u0275\u0275elementEnd())}function le(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Invalid email format."),e.\u0275\u0275elementEnd())}function ce(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ae,2,0,"div",23),e.\u0275\u0275template(2,le,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.email)}}function de(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function me(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must be at least 8 characters long."),e.\u0275\u0275elementEnd())}function ue(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function ge(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."),e.\u0275\u0275elementEnd())}function pe(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,de,2,0,"div",23),e.\u0275\u0275template(2,me,2,0,"div",23),e.\u0275\u0275template(3,ue,2,0,"div",23),e.\u0275\u0275template(4,ge,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.maxlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.pattern)}}function he(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Confirming the password is required."),e.\u0275\u0275elementEnd())}function fe(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Passwords must match."),e.\u0275\u0275elementEnd())}function ve(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,he,2,0,"div",23),e.\u0275\u0275template(2,fe,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.fg.errors?null:t.fg.errors.mismatch)}}const K=function(r){return{"is-invalid":r}};let ye=(()=>{class r{constructor(t,o,n,c,l,T,C,w,k,j,x){this.fb=t,this.logger=o,this.svSio=n,this.svWss=c,this.svUser=l,this.svSess=T,this.svMenu=C,this.svNav=w,this.route=k,this.svBase=j,this.toastr=x,this.debug=!0,this.resourceGuid=(0,I.v4)(),this.regInvalid=!1,this.submitted=!1,this.error="",this.socketData=[],this.successmsg=!1,this.year=(new Date).getFullYear(),this.svSio.env=h.N,this.svSio.initSio(null,null),this.fg=this.fb.group({userName:["",[s.Validators.required,s.Validators.minLength(3),s.Validators.maxLength(20)]],email:["",[s.Validators.required,s.Validators.email]],password:["",[s.Validators.required,s.Validators.minLength(8),s.Validators.maxLength(20)]],confirmPassword:["",s.Validators.required]},{validator:this.passwordMatchValidator})}ngOnInit(){this.logger.info("cd-user-v2::RegistrationComponent::ngOnInit()/StorageType.CdObjId:",i.StorageType.CdObjId);const t={storageType:i.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::RegistrationComponent::ngOnInit()/filter:",t),this.sidebarInitData=this.searchLocalStorage(t),this.logger.info("user/RegistrationComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const o=localStorage.getItem("socketData");if(o){let c=function(l){return"appInit"===l.name?l:null};this.socketData=JSON.parse(o).filter(c),this.logger.info("user/RegistrationComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid")}ngAfterViewInit(){this.setInputValue("userName",""),this.setInputValue("password","")}passwordMatchValidator(t){const o=t.get("password"),n=t.get("confirmPassword");return o&&n&&o.value===n.value?null:{mismatch:!0}}get userName(){return this.fg.get("userName")}get email(){return this.fg.get("email")}get password(){return this.fg.get("password")}get confirmPassword(){return this.fg.get("confirmPassword")}setInputValue(t,o){const n=this.fg.get(t);n?n.setValue(o):console.error(`Control with name '${t}' does not exist in the form`)}register(t){this.fg.valid&&console.log("Form Submitted!",this.fg.value),this.logger.info("starting register/RegistrationComponent::registration");let o=t.value;const n=t.valid;this.logger.info("register/RegistrationComponent::registration/01"),this.logger.info("register/RegistrationComponent::registration/fg:",t),this.logger.info("register/RegistrationComponent::registration/valid:",n),this.submitted=!0,o=Object.assign({},o,{consumerGuid:h.N.consumerToken});try{this.logger.info("register/RegistrationComponent::registration/02"),n&&(this.logger.info("register/RegistrationComponent::registration/03"),delete o.confirmPassword,this.svUser.registerUser(o),this.toastr.success("Signup successful!","Success"))}catch{this.logger.info("register/RegistrationComponent::registration/04"),this.errMsg="Something went wrong!!",this.regInvalid=!0,this.toastr.error("Please fill out the form correctly.","Error")}}searchLocalStorage(t){this.logger.info("starting RegistrationComponent::searchLocalStorage()/lcLength:");const o=[],n=localStorage.length;this.logger.info("RegistrationComponent::searchLocalStorage()/lcLength:",n);for(let a=0;a<localStorage.length;a++){const b=localStorage.key(a);var l=localStorage.getItem(b);this.logger.info("Key: "+b+", Value: "+l);try{if(this.logger.info("RegistrationComponent::searchLocalStorage()/1"),"object"==typeof l){this.logger.info("RegistrationComponent::searchLocalStorage()/2"),this.logger.info("RegistrationComponent::searchLocalStorage()/v:",l);const F=JSON.parse(l);"success"in F&&(this.logger.info("RegistrationComponent::searchLocalStorage()/3"),this.logger.info("RegistrationComponent::searchLocalStorage()/appState:",F)),"resourceGuid"in F&&(this.logger.info("RegistrationComponent::searchLocalStorage()/4"),this.logger.info("RegistrationComponent::searchLocalStorage()/cdObjId:",F)),this.logger.info("RegistrationComponent::searchLocalStorage()/5"),o.push({key:b,value:JSON.parse(l)})}else this.logger.info("RegistrationComponent::searchLocalStorage()/typeof (v):",typeof l),this.logger.info("RegistrationComponent::searchLocalStorage()/6"),o.push({key:b,value:JSON.parse(l)})}catch(F){this.logger.info("offending item:",l),this.logger.info("the item is not an object"),this.logger.info("Error:",F)}}this.logger.info("RegistrationComponent::searchLocalStorage()/lcArr:",o),this.logger.info("RegistrationComponent::searchLocalStorage()/f.cdObjId!.resourceName:",t.cdObjId.resourceName);const C=a=>"object"==typeof a.value,w=a=>"resourceName"in a.value,k=a=>a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule,j=(a,b)=>a.value.commTrack.initTime>b.value.commTrack.initTime?a:b;let x=null;try{this.debug?(this.logger.info("RegistrationComponent::searchLocalStorage()/debug=true:"),x=o.filter(a=>"object"==typeof a.value?(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByObject: d:",a),a):null).filter(a=>"resourceName"in a.value?(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByResourceNameField: d:",a),a):null).filter(a=>(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d:",a),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",a.value.resourceName),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",t.cdObjId.resourceName),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",a.value.ngModule),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",t.cdObjId.ngModule),a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule?a:null)).reduce((a={},b={})=>(this.logger.info("RegistrationComponent::searchLocalStorage()/prev:",a),this.logger.info("RegistrationComponent::searchLocalStorage()/current:",b),a.value.commTrack.initTime>b.value.commTrack.initTime?a:b))):(this.logger.info("RegistrationComponent::searchLocalStorage()/debug=false:"),x=o.filter(C).filter(w).filter(k).reduce(j)),this.logger.info("RegistrationComponent::searchLocalStorage()/ret:",x)}catch(a){this.logger.info("Error:",a)}return x}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(S.NGXLogger),e.\u0275\u0275directiveInject(i.SioClientService),e.\u0275\u0275directiveInject(i.WebsocketService),e.\u0275\u0275directiveInject(i.UserService),e.\u0275\u0275directiveInject(i.SessService),e.\u0275\u0275directiveInject(i.MenuService),e.\u0275\u0275directiveInject(i.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(q.ToastrService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-register"]],decls:66,vars:19,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","success",3,"dismissible",4,"ngIf"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["type","text","formControlName","userName","autocomplete","off","id","userName","placeholder","Enter username",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"ri-mail-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","autocomplete","off","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],[1,"mt-4","text-center"],[1,"mb-0"],["href","#",1,"text-primary"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","success",3,"dismissible"],["type","danger",3,"dismissible"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return n.register(n.fg)}),e.\u0275\u0275template(22,te,2,1,"ngb-alert",17),e.\u0275\u0275template(23,oe,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"i",20),e.\u0275\u0275elementStart(26,"label",21),e.\u0275\u0275text(27,"Username"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",22),e.\u0275\u0275template(29,se,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",19),e.\u0275\u0275element(31,"i",24),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,ce,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275element(37,"i",27),e.\u0275\u0275elementStart(38,"label",28),e.\u0275\u0275text(39,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",29),e.\u0275\u0275template(41,pe,5,4,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",19),e.\u0275\u0275element(43,"i",27),e.\u0275\u0275elementStart(44,"label",30),e.\u0275\u0275text(45,"Confirm Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",31),e.\u0275\u0275template(47,ve,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",10)(49,"button",32),e.\u0275\u0275text(50,"Register"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",33)(52,"p",34),e.\u0275\u0275text(53,"By registering you agree to the ASDAP "),e.\u0275\u0275elementStart(54,"a",35),e.\u0275\u0275text(55,"Terms of Use"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(56,"div",36)(57,"p"),e.\u0275\u0275text(58,"Already have an account ? "),e.\u0275\u0275elementStart(59,"a",37),e.\u0275\u0275text(60," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"p"),e.\u0275\u0275text(62,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(63,"div",38)(64,"div",39),e.\u0275\u0275element(65,"div",40),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",n.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.successmsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,K,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userName.invalid&&(n.userName.dirty||n.userName.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,K,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,K,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.password.invalid&&(n.password.dirty||n.password.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,K,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.confirmPassword.invalid&&(n.confirmPassword.dirty||n.confirmPassword.touched)))},dependencies:[v.NgClass,v.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,m.NgbAlert]})}return r})(),Se=(()=>{class r{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-user-profile"]],decls:2,vars:0,template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"user-profile works!"),e.\u0275\u0275elementEnd())}})}return r})();const be=new i.FormsService,J=[{title:"ID",name:"userId",dbName:"user_id",type:i.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"userGuid",dbName:"user_guid",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"userName",dbName:"user_name",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"Password",name:"password",dbName:"password",type:i.FieldType.string,fetchable:!1,updateable:!1,searchable:!1,show:!1,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required,s.Validators.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]]},{title:"ConfirmPassword",name:"confirmPassword",dbName:"confirmPassword",type:i.FieldType.string,fetchable:!1,updateable:!1,searchable:!1,show:!1,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!1,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required,s.Validators.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]]},{title:"F.Name",name:"fName",dbName:"f_name",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"M.Name",name:"mName",dbName:"m_name",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"L.Name",name:"lName",dbName:"l_name",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"NID",name:"nationalId",dbName:"national_id",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"PID",name:"passportId",dbName:"passport_id",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(1),s.Validators.maxLength(20),s.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(8),s.Validators.maxLength(14),s.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:i.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.createForm},{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.pattern(i.EMAIL_PATTERN),s.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:i.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:i.ControlType.text,fieldFor:i.FieldFor.tableDisplay},{controlType:i.ControlType.searchDropDown,fieldFor:i.FieldFor.createForm}],ddlInfo:{selData$:(0,E.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(42),s.Validators.required]]},{title:"Gender",name:"gender",dbName:"gender",type:i.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.status,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Enabled",name:"userEnabled",dbName:"user_enabled",type:i.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:i.ControlType.status,fieldFor:i.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:i.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:i.ControlType.action,fieldFor:i.FieldFor.tableDisplay},{controlType:i.ControlType.action,fieldFor:i.FieldFor.createForm}],Fn:"createUser"},{title:"Search",name:"iconSearch",type:i.FieldType.any,controls:[],formControlsConfig:["",[]]}],Ce={data:{},valid:null,ctx:"Sys"},P={token:"",stepTitle:"Create User",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"userInfo",cardTitle:"User Information",cardTitleDesc:"Fill all information below",module:"User",controller:"User",formGroup:null,fields:be.filterByFieldFor(J,i.FieldFor.createForm)},Z={name:"User Wizard",steps:[P]},G={select:["userId","userName","userGuid"],where:{}},z={getFn$:null,selIndex:G.select[0],selValueField:G.select[1],fetchFields:G.select,step:null,token:null,controlName:"userId"},Ie=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/user/user/create",actionType:i.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/user/user/dashboard",actionType:i.ActionType.navigate}];let Ee=(()=>{class r{constructor(t,o,n,c,l,T,C){this.aRoute=t,this.router=o,this.svBase=n,this.svNazTable=c,this.svAcl=l,this.svPage=T,this.svSess=C,this.dSource={fields:[],data:[]},this.cardTitle="User",this.cardBodyId="user",this.searchInputId="inputSearchUser",this.filter={},this.tpData=i.DEFAULT_TPD,this.ddlData=Ie,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{t&&this.svAcl.initComponent(t,this,this.svSess).then(o=>{})})}init(){this.baseModel=new i.BaseModel(P.module,P.controller),this.svBase.module=P.module,this.svBase.controller=P.controller,this.baseModel.data.fields=J.filter(t=>t.fetchable||t.type===i.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(P.controller,"List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(t){this.svNazTable.execQuery(t,this.svBase.getPaged$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(t){this.sQuery=t.sQuery,this.execQuery(t)}getSelect(){return this.baseModel.data.fields.filter(t=>t.fetchable).map(t=>t.name)}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(y.NazTableService),e.\u0275\u0275directiveInject(i.AclService),e.\u0275\u0275directiveInject(y.PageService),e.\u0275\u0275directiveInject(i.SessService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-list"]],viewQuery:function(o,n){if(1&o&&e.\u0275\u0275viewQuery(y.NazTableComponent,5),2&o){let c;e.\u0275\u0275queryRefresh(c=e.\u0275\u0275loadQuery())&&(n.nazTable=c.first)}},decls:1,vars:7,consts:[[3,"baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData","searchQuery"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"naz-table",0),e.\u0275\u0275listener("searchQuery",function(l){return n.setSearchQuery(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",n.baseModel)("cardTitle",n.cardTitle)("cardBodyId",n.cardBodyId)("searchInputId",n.searchInputId)("tpData",n.tpData)("filter",n.filter)("ddlData",n.ddlData)},dependencies:[y.NazTableComponent]})}return r})();var $=d(5861);let _e=(()=>{class r{constructor(t,o,n,c,l,T,C){this.aRoute=t,this.router=o,this.svBase=n,this.svPage=c,this.svSess=l,this.svAcl=T,this.svNotif=C,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(o=>{})})}init(){this.baseModel=new i.BaseModel(P.module,P.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(P.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(t){var o=this;return(0,$.Z)(function*(){o.svBase.update$(t,o.baseModel.token).subscribe(n=>{o.svNotif.emitNotif({pushRecepients:i.DEFAULT_PUSH_RECEPIENTS,pushData:n,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:n})})})()}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(y.PageService),e.\u0275\u0275directiveInject(i.SessService),e.\u0275\u0275directiveInject(i.AclService),e.\u0275\u0275directiveInject(i.NotificationService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-edit"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","updateQuery"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-edit",0),e.\u0275\u0275listener("updateQuery",function(l){return n.update(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[y.EditComponent]})}return r})(),Ne=(()=>{class r{constructor(t,o,n,c,l,T,C){this.aRoute=t,this.router=o,this.svBase=n,this.svPage=c,this.svAcl=l,this.svNotif=T,this.svSess=C,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(o=>{})})}init(){this.baseModel=new i.BaseModel(P.module,P.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(P.controller,"Delete"),this.baseModel.data.subTitle="confirm before delete"}deleteItem(t){var o=this;return(0,$.Z)(function*(){o.svBase.delete$(t,o.baseModel.token).subscribe(n=>{o.svNotif.emitNotif({pushRecepients:i.DEFAULT_PUSH_RECEPIENTS,pushData:n,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:n})})})()}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(y.PageService),e.\u0275\u0275directiveInject(i.AclService),e.\u0275\u0275directiveInject(i.NotificationService),e.\u0275\u0275directiveInject(i.SessService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","deleteQuery"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-delete",0),e.\u0275\u0275listener("deleteQuery",function(l){return n.deleteItem(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",n.baseModel)("formConfig",n.formConfig)},dependencies:[y.DeleteComponent]})}return r})(),Te=(()=>{class r{constructor(t,o,n){this.svMenu=t,this.svNotif=o,this.svForm=n,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(t,o){t.fields.map((n,c)=>{n.name===o&&(t.fields[c].ddlInfo.selData$=(0,E.of)(this.ddlData),t.fields[c].ddlInfo.selIndex="iconId",t.fields[c].ddlInfo.selValueField="iconName",t.fields[c].ddlInfo.selPlaceholder="...Choose")})}setDdl$(t){if(t.token){const o=new E.Subject;let n=[];return t.getFn$.subscribe(c=>{const l=c;console.log("ModulemanService::setDdl$()/response:",l),l.app_state.success?(n=l.data.items,t.step.fields.map((T,C)=>{T.name===t.controlName&&(t.step.fields[C].ddlInfo.selData$=(0,E.of)(l.data.items),t.step.fields[C].ddlInfo.selIndex=t.selIndex,t.step.fields[C].ddlInfo.selValueField=t.selValueField,t.step.fields[C].ddlInfo.selPlaceholder="...Choose")}),o.next(n)):(this.pushEnvelop.pushData=l,this.pushEnvelop.resp=l,this.svNotif.emitNotif(this.pushEnvelop),o.next(n))}),o.asObservable()}return(0,E.of)([])}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275inject(i.MenuService),e.\u0275\u0275inject(i.NotificationService),e.\u0275\u0275inject(i.FormsService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Le=(()=>{class r{constructor(t,o){this.svBase=t,this.svUserBase=o}loadDdls(t,o){var n=this;return(0,$.Z)(function*(){z.token=t.token,z.step=o,z.controlName="userId",console.log("ConsumerModService::loadDdls()/userGetQuery:",G),z.getFn$=n.svBase.getPaged$(G,t.token,"Sys","Moduleman","Company"),yield n.svUserBase.setDdl$(yield z).subscribe(c=>{console.log("menu/ConsumerModService::loadDdls()/ret(companies):",c),o.fields.forEach(l=>{"userId"===l.name&&(l.ddlInfo.data=c)})})})()}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275inject(i.BaseService),e.\u0275\u0275inject(Te))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),we=(()=>{class r{constructor(t,o,n,c,l,T,C,w,k,j,x,a){this.aRoute=t,this.router=o,this.svAcl=n,this.svForm=c,this.svNotif=l,this.fb=T,this.svForms=C,this.svPage=w,this.svPush=k,this.svBase=j,this.svUserFront=x,this.svSess=a,this.newUser=Ce,this.wizardModel=Z,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(t=>{this.svAcl.initComponent(t,this,this.svSess).then(o=>{o&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svUserFront.loadDdls(this.baseModel,this.baseModel.data.step).then(t=>{console.log("user/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new i.BaseModel(P.module,P.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(J,i.FieldFor.createForm),this.baseModel.data.wizardModel=Z,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,P.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(J)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(P.controller,"Create")}setSelectedIcon(t){this.svForm.setSelectedIcon(t,this.baseModel,this.baseModel.data.step)}save(t){let o;switch(t.controller){case"module":case"menu":break;case"user":o=this.svBase.create$(this.newUser,this.baseModel.token),this.svForm.saveForm(t,this.newUser,o,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.AclService),e.\u0275\u0275directiveInject(i.FormsService),e.\u0275\u0275directiveInject(i.NotificationService),e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(i.FormsService),e.\u0275\u0275directiveInject(y.PageService),e.\u0275\u0275directiveInject(i.CdPushService),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(Le),e.\u0275\u0275directiveInject(i.SessService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-create"]],decls:2,vars:0,template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"create works!"),e.\u0275\u0275elementEnd())}})}return r})(),xe=(()=>{class r{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"dashboard works!"),e.\u0275\u0275elementEnd())}})}return r})();var Fe=d(5893),H=d(9923),De=d(599);function Pe(r,f){1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",41),e.\u0275\u0275text(1,"VerifyEmailation successfull. "),e.\u0275\u0275elementEnd()),2&r&&e.\u0275\u0275property("dismissible",!1)}function ke(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"ngb-alert",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function Re(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username is required."),e.\u0275\u0275elementEnd())}function Ve(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username must be at least 3 characters long."),e.\u0275\u0275elementEnd())}function Oe(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function Ae(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Re,2,0,"div",23),e.\u0275\u0275template(2,Ve,2,0,"div",23),e.\u0275\u0275template(3,Oe,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.maxlength)}}function Ue(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required."),e.\u0275\u0275elementEnd())}function Be(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Invalid email format."),e.\u0275\u0275elementEnd())}function Ge(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ue,2,0,"div",23),e.\u0275\u0275template(2,Be,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.email)}}function ze(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function $e(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must be at least 8 characters long."),e.\u0275\u0275elementEnd())}function Ke(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function Je(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."),e.\u0275\u0275elementEnd())}function We(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ze,2,0,"div",23),e.\u0275\u0275template(2,$e,2,0,"div",23),e.\u0275\u0275template(3,Ke,2,0,"div",23),e.\u0275\u0275template(4,Je,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.maxlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.pattern)}}function Qe(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Confirming the password is required."),e.\u0275\u0275elementEnd())}function qe(r,f){1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Passwords must match."),e.\u0275\u0275elementEnd())}function Ze(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Qe,2,0,"div",23),e.\u0275\u0275template(2,qe,2,0,"div",23),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.fg.errors?null:t.fg.errors.mismatch)}}const W=function(r){return{"is-invalid":r}},He=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"login",component:ee},{path:"register",component:ye},{path:"profile",component:Se},{path:"list",component:Ee},{path:"edit",component:_e},{path:"delete",component:Ne},{path:"create",component:we},{path:"signup",component:(()=>{class r{constructor(t,o,n,c,l){this.formBuilder=t,this.route=o,this.router=n,this.authenticationService=c,this.userService=l,this.submitted=!1,this.error="",this.successmsg=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.signupForm=this.formBuilder.group({username:["",s.Validators.required],email:["",[s.Validators.required,s.Validators.email]],password:["",s.Validators.required]})}ngAfterViewInit(){}get f(){return this.signupForm.controls}onSubmit(){this.submitted=!0,!this.signupForm.invalid&&("firebase"===h.N.defaultauth?this.authenticationService.register(this.f.email.value,this.f.password.value).then(t=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/"])}).catch(t=>{this.error=t||""}):this.userService.register(this.signupForm.value).pipe((0,Fe.first)()).subscribe(t=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/account/login"])},t=>{this.error=t||""}))}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(s.UntypedFormBuilder),e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(H.$),e.\u0275\u0275directiveInject(De.i))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-signup"]],decls:30,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"p"),e.\u0275\u0275text(22,"Already have an account ? "),e.\u0275\u0275elementStart(23,"a",16),e.\u0275\u0275text(24," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"p"),e.\u0275\u0275text(26,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(27,"div",17)(28,"div",18),e.\u0275\u0275element(29,"div",19),e.\u0275\u0275elementEnd()()()()())}})}return r})()},{path:"passwordreset",component:(()=>{class r{constructor(t,o,n,c){this.formBuilder=t,this.route=o,this.router=n,this.authenticationService=c,this.submitted=!1,this.error="",this.success="",this.loading=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.resetForm=this.formBuilder.group({email:["",[s.Validators.required,s.Validators.email]]})}ngAfterViewInit(){}get f(){return this.resetForm.controls}onSubmit(){this.success="",this.submitted=!0,!this.resetForm.invalid&&"firebase"===h.N.defaultauth&&this.authenticationService.resetPassword(this.f.email.value).catch(t=>{this.error=t||""})}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(s.UntypedFormBuilder),e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(H.$))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-passwordreset"]],decls:33,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],["role","alert",1,"alert","alert-success","mb-4"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Reset Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Reset your password to ASDAP."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"div",16),e.\u0275\u0275text(22," Enter your Email and instructions will be sent to you! "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",17)(24,"p"),e.\u0275\u0275text(25,"Don't have an account ? "),e.\u0275\u0275elementStart(26,"a",18),e.\u0275\u0275text(27," Log in "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"p"),e.\u0275\u0275text(29,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(30,"div",19)(31,"div",20),e.\u0275\u0275element(32,"div",21),e.\u0275\u0275elementEnd()()()()())}})}return r})()},{path:"dashboard",component:xe},{path:"verify-email",component:(()=>{class r{constructor(t,o,n,c,l,T,C,w,k,j,x,a){this.fb=t,this.logger=o,this.svSio=n,this.svWss=c,this.svUser=l,this.svSess=T,this.svMenu=C,this.svNav=w,this.router=k,this.svBase=j,this.toastr=x,this.aRoute=a,this.debug=!0,this.resourceGuid=(0,I.v4)(),this.regInvalid=!1,this.submitted=!1,this.error="",this.socketData=[],this.successmsg=!1,this.year=(new Date).getFullYear(),this.svSio.env=h.N,this.svSio.initSio(null,null),this.fg=this.fb.group({userName:["",[s.Validators.required,s.Validators.minLength(3),s.Validators.maxLength(20)]],email:["",[s.Validators.required,s.Validators.email]],password:["",[s.Validators.required,s.Validators.minLength(8),s.Validators.maxLength(20)]],confirmPassword:["",s.Validators.required]},{validator:this.passwordMatchValidator})}ngOnInit(){this.aRoute.queryParams.subscribe(c=>{this.verificationToken=c.token}),this.logger.info("cd-user-v2::VerifyEmailComponent::ngOnInit()/StorageType.CdObjId:",i.StorageType.CdObjId);const t={storageType:i.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::VerifyEmailComponent::ngOnInit()/filter:",t),this.sidebarInitData=this.searchLocalStorage(t),this.logger.info("user/VerifyEmailComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const o=localStorage.getItem("socketData");if(o){let c=function(l){return"appInit"===l.name?l:null};this.socketData=JSON.parse(o).filter(c),this.logger.info("user/VerifyEmailComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid")}ngAfterViewInit(){this.setInputValue("userName",""),this.setInputValue("password","")}passwordMatchValidator(t){const o=t.get("password"),n=t.get("confirmPassword");return o&&n&&o.value===n.value?null:{mismatch:!0}}get userName(){return this.fg.get("userName")}get email(){return this.fg.get("email")}get password(){return this.fg.get("password")}get confirmPassword(){return this.fg.get("confirmPassword")}setInputValue(t,o){const n=this.fg.get(t);n?n.setValue(o):console.error(`Control with name '${t}' does not exist in the form`)}activateUser(t){var o=this;return(0,$.Z)(function*(){const n={ctx:"Sys",m:"User",c:"User",a:"Update",dat:{f_vals:[{query:{update:{activated:!0},where:{activationKey:t.activationKey}}}],token:t.sid},args:{}};yield o.updateUser(n)})()}updateUser(t){var o=this;return(0,$.Z)(function*(){o.svBase.update$(t,o.baseModel.token).subscribe(n=>{})})()}register(t){this.fg.valid&&console.log("Form Submitted!",this.fg.value),this.logger.info("starting register/VerifyEmailComponent::verifyEmail");let o=t.value;const n=t.valid;this.logger.info("register/VerifyEmailComponent::verifyEmail/01"),this.logger.info("register/VerifyEmailComponent::verifyEmail/fg:",t),this.logger.info("register/VerifyEmailComponent::verifyEmail/valid:",n),this.submitted=!0,o=Object.assign({},o,{consumerGuid:h.N.consumerToken});try{this.logger.info("register/VerifyEmailComponent::verifyEmail/02"),n&&(this.logger.info("register/VerifyEmailComponent::verifyEmail/03"),delete o.confirmPassword,this.svUser.registerUser(o),this.toastr.success("Signup successful!","Success"))}catch{this.logger.info("register/VerifyEmailComponent::verifyEmail/04"),this.errMsg="Something went wrong!!",this.regInvalid=!0,this.toastr.error("Please fill out the form correctly.","Error")}}searchLocalStorage(t){this.logger.info("starting VerifyEmailComponent::searchLocalStorage()/lcLength:");const o=[],n=localStorage.length;this.logger.info("VerifyEmailComponent::searchLocalStorage()/lcLength:",n);for(let a=0;a<localStorage.length;a++){const b=localStorage.key(a);var l=localStorage.getItem(b);this.logger.info("Key: "+b+", Value: "+l);try{if(this.logger.info("VerifyEmailComponent::searchLocalStorage()/1"),"object"==typeof l){this.logger.info("VerifyEmailComponent::searchLocalStorage()/2"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/v:",l);const F=JSON.parse(l);"success"in F&&(this.logger.info("VerifyEmailComponent::searchLocalStorage()/3"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/appState:",F)),"resourceGuid"in F&&(this.logger.info("VerifyEmailComponent::searchLocalStorage()/4"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/cdObjId:",F)),this.logger.info("VerifyEmailComponent::searchLocalStorage()/5"),o.push({key:b,value:JSON.parse(l)})}else this.logger.info("VerifyEmailComponent::searchLocalStorage()/typeof (v):",typeof l),this.logger.info("VerifyEmailComponent::searchLocalStorage()/6"),o.push({key:b,value:JSON.parse(l)})}catch(F){this.logger.info("offending item:",l),this.logger.info("the item is not an object"),this.logger.info("Error:",F)}}this.logger.info("VerifyEmailComponent::searchLocalStorage()/lcArr:",o),this.logger.info("VerifyEmailComponent::searchLocalStorage()/f.cdObjId!.resourceName:",t.cdObjId.resourceName);const C=a=>"object"==typeof a.value,w=a=>"resourceName"in a.value,k=a=>a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule,j=(a,b)=>a.value.commTrack.initTime>b.value.commTrack.initTime?a:b;let x=null;try{this.debug?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/debug=true:"),x=o.filter(a=>"object"==typeof a.value?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByObject: d:",a),a):null).filter(a=>"resourceName"in a.value?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByResourceNameField: d:",a),a):null).filter(a=>(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d:",a),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",a.value.resourceName),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",t.cdObjId.resourceName),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",a.value.ngModule),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",t.cdObjId.ngModule),a.value.resourceName===t.cdObjId.resourceName&&a.value.ngModule===t.cdObjId.ngModule?a:null)).reduce((a={},b={})=>(this.logger.info("VerifyEmailComponent::searchLocalStorage()/prev:",a),this.logger.info("VerifyEmailComponent::searchLocalStorage()/current:",b),a.value.commTrack.initTime>b.value.commTrack.initTime?a:b))):(this.logger.info("VerifyEmailComponent::searchLocalStorage()/debug=false:"),x=o.filter(C).filter(w).filter(k).reduce(j)),this.logger.info("VerifyEmailComponent::searchLocalStorage()/ret:",x)}catch(a){this.logger.info("Error:",a)}return x}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(S.NGXLogger),e.\u0275\u0275directiveInject(i.SioClientService),e.\u0275\u0275directiveInject(i.WebsocketService),e.\u0275\u0275directiveInject(i.UserService),e.\u0275\u0275directiveInject(i.SessService),e.\u0275\u0275directiveInject(i.MenuService),e.\u0275\u0275directiveInject(i.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(i.BaseService),e.\u0275\u0275directiveInject(q.ToastrService),e.\u0275\u0275directiveInject(p.ActivatedRoute))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-verify-email"]],decls:66,vars:19,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","success",3,"dismissible",4,"ngIf"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["type","text","formControlName","userName","autocomplete","off","id","userName","placeholder","Enter username",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"ri-mail-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","autocomplete","off","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],[1,"mt-4","text-center"],[1,"mb-0"],["href","#",1,"text-primary"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","success",3,"dismissible"],["type","danger",3,"dismissible"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"VerifyEmail account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return n.register(n.fg)}),e.\u0275\u0275template(22,Pe,2,1,"ngb-alert",17),e.\u0275\u0275template(23,ke,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"i",20),e.\u0275\u0275elementStart(26,"label",21),e.\u0275\u0275text(27,"Username"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",22),e.\u0275\u0275template(29,Ae,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",19),e.\u0275\u0275element(31,"i",24),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,Ge,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275element(37,"i",27),e.\u0275\u0275elementStart(38,"label",28),e.\u0275\u0275text(39,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",29),e.\u0275\u0275template(41,We,5,4,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",19),e.\u0275\u0275element(43,"i",27),e.\u0275\u0275elementStart(44,"label",30),e.\u0275\u0275text(45,"Confirm Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",31),e.\u0275\u0275template(47,Ze,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",10)(49,"button",32),e.\u0275\u0275text(50,"VerifyEmail"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",33)(52,"p",34),e.\u0275\u0275text(53,"By registering you agree to the ASDAP "),e.\u0275\u0275elementStart(54,"a",35),e.\u0275\u0275text(55,"Terms of Use"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(56,"div",36)(57,"p"),e.\u0275\u0275text(58,"Already have an account ? "),e.\u0275\u0275elementStart(59,"a",37),e.\u0275\u0275text(60," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"p"),e.\u0275\u0275text(62,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(63,"div",38)(64,"div",39),e.\u0275\u0275element(65,"div",40),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",n.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.successmsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,W,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userName.invalid&&(n.userName.dirty||n.userName.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,W,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,W,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.password.invalid&&(n.password.dirty||n.password.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,W,n.submitted&&n.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.confirmPassword.invalid&&(n.confirmPassword.dirty||n.confirmPassword.touched)))},dependencies:[v.NgClass,v.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,m.NgbAlert]})}return r})()},{path:"group",loadChildren:()=>d.e(4632).then(d.bind(d,9811)).then(r=>r.GroupModule)},{path:"group-member",loadChildren:()=>d.e(5938).then(d.bind(d,5176)).then(r=>r.GroupMemberModule)}];let Ye=(()=>{class r{constructor(t){this.router=t,t.events.subscribe(o=>{console.log("CdUser::UserRoutingModule::constructor()/routeState:",o)})}static#e=this.\u0275fac=function(o){return new(o||r)(e.\u0275\u0275inject(p.Router))};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:r});static#o=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.RouterModule.forChild(He),p.RouterModule]})}return r})(),Xe=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:r});static#o=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.CommonModule,Ye,s.FormsModule,s.ReactiveFormsModule,S.LoggerModule.forRoot({level:S.NgxLoggerLevel.TRACE,serverLogLevel:S.NgxLoggerLevel.OFF,serverLoggingUrl:"/api/logs",disableConsoleLogging:!1,enableSourceMaps:!0,colorScheme:["purple","teal","gray","gray","red","red","red"]}),m.NgbNavModule,m.NgbDropdownModule,m.NgbTooltipModule,m.NgbAccordionModule,y.NazUiModule,y.NazTableModule,y.NazCreateModule,y.NazEditModule,y.NazDeleteModule,m.NgbAlertModule,L.NgPipesModule,N.ArchwizardModule,g.NgToggleModule,u.NgSelectModule,i.BaseModule.forChild(h.N),i.UserModule.forChild(h.N),i.CdPushModule.forChild(h.N)]})}return r})()},6143:(M,_,d)=>{d.d(_,{N:()=>N});const v="https://cd-api.co.ke",N={appId:"",production:!1,apiEndpoint:`${v}:3001/api`,sioEndpoint:`${v}:3002`,wsEndpoint:"ws://cd-api.co.ke:3000",wsMode:"sio",pushConfig:{sio:{enabled:!0},wss:{enabled:!1},pusher:{enabled:!0,apiKey:"DtVRY9V5j41KwSxKrd8L_dRijUJh9gVcqwBH5wb96no",options:{cluster:"ap2",forceTLS:!0,userAuthentication:{endpoint:"https://cd-api.co.ke:3002/pusher/auth",transport:"ajax",params:{},headers:{},includeCredentials:!0,customHandler:null},channelAuthorization:{endpoint:"https://cd-api.co.ke:3002/pusher/auth"},authEndpoint:"https://cd-api.co.ke:3002/pusher/auth"}}},CD_PORT:3001,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD",clientContext:{entity:"ASDAP",clientAppId:2,consumerToken:"B0B3DA99-1859-A499-90F6-1E3F69575DCD"},USER_RESOURCES:"http://routed-93/user-resources",apiHost:"https://cd-api.co.ke",sioHost:"https://cd-api.co.ke",shellHost:"https://asdap.net",consumer:"",clientAppGuid:"ca0fe39f-92b2-484d-91ef-487d4fc462a2",clientAppId:2,SOCKET_IO_PORT:3002,defaultauth:"cd-auth",initialPage:"dashboard",mfManifestPath:"/assets/mf.manifest.json",apiOptions:{headers:{"Content-Type":"application/json"}},sioOptions:{path:"/socket.io",transports:["websocket","polling"],secure:!0},firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}}},9444:(M,_,d)=>{var v=d(4542),s=d(6926),S=s;S.v1=v,S.v4=s,M.exports=S},7805:M=>{for(var _=[],d=0;d<256;++d)_[d]=(d+256).toString(16).substr(1);M.exports=function v(s,S){var u=S||0;return[_[s[u++]],_[s[u++]],_[s[u++]],_[s[u++]],"-",_[s[u++]],_[s[u++]],"-",_[s[u++]],_[s[u++]],"-",_[s[u++]],_[s[u++]],"-",_[s[u++]],_[s[u++]],_[s[u++]],_[s[u++]],_[s[u++]],_[s[u++]]].join("")}},7142:M=>{var _=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(_){var d=new Uint8Array(16);M.exports=function(){return _(d),d}}else{var v=new Array(16);M.exports=function(){for(var u,S=0;S<16;S++)3&S||(u=4294967296*Math.random()),v[S]=u>>>((3&S)<<3)&255;return v}}},4542:(M,_,d)=>{var S,u,v=d(7142),s=d(7805),m=0,L=0;M.exports=function N(g,h,i){var y=h&&i||0,p=h||[],I=(g=g||{}).node||S,e=void 0!==g.clockseq?g.clockseq:u;if(null==I||null==e){var D=v();null==I&&(I=S=[1|D[0],D[1],D[2],D[3],D[4],D[5]]),null==e&&(e=u=16383&(D[6]<<8|D[7]))}var E=void 0!==g.msecs?g.msecs:(new Date).getTime(),R=void 0!==g.nsecs?g.nsecs:L+1,O=E-m+(R-L)/1e4;if(O<0&&void 0===g.clockseq&&(e=e+1&16383),(O<0||E>m)&&void 0===g.nsecs&&(R=0),R>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=E,L=R,u=e;var A=(1e4*(268435455&(E+=122192928e5))+R)%4294967296;p[y++]=A>>>24&255,p[y++]=A>>>16&255,p[y++]=A>>>8&255,p[y++]=255&A;var U=E/4294967296*1e4&268435455;p[y++]=U>>>8&255,p[y++]=255&U,p[y++]=U>>>24&15|16,p[y++]=U>>>16&255,p[y++]=e>>>8|128,p[y++]=255&e;for(var B=0;B<6;++B)p[y+B]=I[B];return h||s(p)}},6926:(M,_,d)=>{var v=d(7142),s=d(7805);M.exports=function S(u,m,L){var N=m&&L||0;"string"==typeof u&&(m="binary"===u?new Array(16):null,u=null);var g=(u=u||{}).random||(u.rng||v)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,m)for(var h=0;h<16;++h)m[N+h]=g[h];return m||s(g)}},5861:(M,_,d)=>{function v(S,u,m,L,N,g,h){try{var i=S[g](h),y=i.value}catch(p){return void m(p)}i.done?u(y):Promise.resolve(y).then(L,N)}function s(S){return function(){var u=this,m=arguments;return new Promise(function(L,N){var g=S.apply(u,m);function h(y){v(g,L,N,h,i,"next",y)}function i(y){v(g,L,N,h,i,"throw",y)}h(void 0)})}}d.d(_,{Z:()=>s})}}]);