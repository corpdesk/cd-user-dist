(self.webpackChunkcd_user=self.webpackChunkcd_user||[]).push([[9811,4632,5169],{9811:(z,v,s)=>{s.r(v),s.d(v,{GroupModule:()=>w});var F=s(5228),p=s(7011),t=s(7675);let b=(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-list"]],decls:2,vars:0,template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"list works!"),t.\u0275\u0275elementEnd())}})}return o})(),g=(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-edit"]],decls:2,vars:0,template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"edit works!"),t.\u0275\u0275elementEnd())}})}return o})(),C=(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-delete"]],decls:2,vars:0,template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"delete works!"),t.\u0275\u0275elementEnd())}})}return o})();var e=s(3958),l=s(533),T=s(3635);const I=new e.FormsService,u=[{title:"ID",name:"groupId",dbName:"group_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"groupGuid",dbName:"group_guid",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"groupName",dbName:"group_name",type:e.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.createForm},{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(20),l.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:e.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:e.ControlType.text,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.searchDropDown,fieldFor:e.FieldFor.createForm}],ddlInfo:{selData$:(0,T.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[l.Validators.minLength(3),l.Validators.maxLength(42),l.Validators.required]]},{title:"Enabled",name:"groupEnabled",dbName:"group_enabled",type:e.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:e.ControlType.status,fieldFor:e.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:e.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:e.ControlType.action,fieldFor:e.FieldFor.tableDisplay},{controlType:e.ControlType.action,fieldFor:e.FieldFor.createForm}],Fn:"createGroup"},{title:"Search",name:"iconSearch",type:e.FieldType.any,controls:[],formControlsConfig:["",[]]}],M={data:{},valid:null,ctx:"Sys"},i={token:"",stepTitle:"Create Group",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"groupInfo",cardTitle:"Group Information",cardTitleDesc:"Fill all information below",module:"Moduleman",controller:"Group",formGroup:null,fields:I.filterByFieldFor(u,e.FieldFor.createForm)},y={name:"Group Wizard",steps:[i]};var f=s(1290);const S=[{path:"list",component:b},{path:"edit",component:g},{path:"delete",component:C},{path:"create",component:(()=>{class o{constructor(n,r,a,c,d,D,x,j,E,N,_,L,k){this.aRoute=n,this.router=r,this.svServer=a,this.svGroup=c,this.svAcl=d,this.svForm=D,this.svNotif=x,this.fb=j,this.svForms=E,this.svPage=N,this.svPush=_,this.svBase=L,this.svSess=k,this.newGroup=M,this.wizardModel=y,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(n=>{this.svAcl.initComponent(n,this,this.svSess).then(r=>{r&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svGroup.loadDdls(this.baseModel,this.baseModel.data.step).then(n=>{console.log("group/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new e.BaseModel(i.module,i.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(u,e.FieldFor.createForm),this.baseModel.data.wizardModel=y,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,i.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(u)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(i.controller,"Create")}setSelectedIcon(n){this.svForm.setSelectedIcon(n,this.baseModel,this.baseModel.data.step)}save(n){switch(console.log("group/CreateComponent::save()/01"),console.log("group/CreateComponent::save()/step:",n),n.controller){case"module":case"menu":break;case"Group":if(console.log("group/CreateComponent::save()/handling group"),console.log("group/CreateComponent::save()/step.formGroup.value:",n.formGroup.value),"VALID"===n.formGroup.status){console.log("group/CreateComponent::save()/validation success");let a={ctx:"Sys",m:"Moduleman",c:"Group",a:"Create",dat:{f_vals:[{data:{}}],token:""},args:{}};a.dat.f_vals[0].data={...n.formGroup.value},a.dat.token=this.baseModel.token,console.log("group/CreateComponent::save()/env:",a),this.svServer.proc(a).subscribe(c=>{console.log("group/CreateComponent::save()/Group/resp:",c)})}else console.log("group/CreateComponent::save()/Validation Error orccured")}}finishFunction(){console.log("finishing!!")}static#e=this.\u0275fac=function(r){return new(r||o)(t.\u0275\u0275directiveInject(p.ActivatedRoute),t.\u0275\u0275directiveInject(p.Router),t.\u0275\u0275directiveInject(e.ServerService),t.\u0275\u0275directiveInject(e.GroupService),t.\u0275\u0275directiveInject(e.AclService),t.\u0275\u0275directiveInject(e.FormsService),t.\u0275\u0275directiveInject(e.NotificationService),t.\u0275\u0275directiveInject(l.FormBuilder),t.\u0275\u0275directiveInject(e.FormsService),t.\u0275\u0275directiveInject(f.PageService),t.\u0275\u0275directiveInject(e.CdPushService),t.\u0275\u0275directiveInject(e.BaseService),t.\u0275\u0275directiveInject(e.SessService))};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-create"]],decls:1,vars:2,consts:[[3,"baseModel","wizardModel","saveEmitter","relaySelIconEmitter"]],template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"naz-table-create",0),t.\u0275\u0275listener("saveEmitter",function(d){return a.save(d)})("relaySelIconEmitter",function(d){return a.setSelectedIcon(d)}),t.\u0275\u0275elementEnd()),2&r&&t.\u0275\u0275property("baseModel",a.baseModel)("wizardModel",a.wizardModel)},dependencies:[f.CreateComponent]})}return o})()},{path:"dashboard",component:(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"dashboard works!"),t.\u0275\u0275elementEnd())}})}return o})()}];let G=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=t.\u0275\u0275defineNgModule({type:o});static#o=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[p.RouterModule.forChild(S),p.RouterModule]})}return o})(),w=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=t.\u0275\u0275defineNgModule({type:o});static#o=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[F.CommonModule,G,f.NazCreateModule]})}return o})()}}]);