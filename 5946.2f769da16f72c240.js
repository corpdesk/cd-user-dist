(self.webpackChunkcd_user=self.webpackChunkcd_user||[]).push([[5946],{599:(re,M,m)=>{m.d(M,{i:()=>y});var I=m(7675),T=m(8697);class y{constructor(u){this.http=u}getAll(){return this.http.get("/api/login")}register(u){return this.http.post("/users/register",u)}}y.\u0275fac=function(u){return new(u||y)(I.\u0275\u0275inject(T.HttpClient))},y.\u0275prov=I.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})},7369:(re,M,m)=>{m.r(M),m.d(M,{UserFrontModule:()=>A});var I=m(5228),s=m(533),T=m(5250),V=m(3781),y=m(6380),j=m(2618),u=m(9707),D=m(5006),h=m(6143),r=m(8089),v=m(6441),p=m(7011),g=m(1042),e=m(7675),k=m(7957),_=m(3635);class F{constructor(){this.socket=(0,k.io)(h.N.sioEndpoint,h.N.sioOptions)}sendMessage(o,t){console.log("SioClientTestService::sendMessage2()/:triggerEvent:",o),console.log("SioClientTestService::sendMessage2()/:payLoadStr:",t);const a=JSON.stringify(t);return this.socket.emit(o,a),new _.Observable(l=>{this.socket.on("messageSent",d=>{l.next(d),l.complete()}),this.socket.on("error",d=>{l.error(d)})})}sioListen(o){return(0,_.fromEvent)(this.socket,o)}onUserJoined(){return(0,_.fromEvent)(this.socket,"userJoined")}onUserLeft(){return(0,_.fromEvent)(this.socket,"userLeft")}onCustomEvent(o){return(0,_.fromEvent)(this.socket,o)}}function le(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ngb-alert",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function de(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName is required"),e.\u0275\u0275elementEnd())}function ce(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"userName must be a valid userName address"),e.\u0275\u0275elementEnd())}function me(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275template(1,de,2,0,"div",40),e.\u0275\u0275template(2,ce,2,0,"div",40),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid)}}function ue(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required"),e.\u0275\u0275elementEnd())}function ge(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275template(1,ue,2,0,"div",40),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loginInvalid)}}F.\u0275fac=function(o){return new(o||F)},F.\u0275prov=e.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"});const ne=function(n){return{"is-invalid":n}};class U{constructor(o,t,a,l,d,b,f,E,L,w){this.logger=o,this.svSio=t,this.svSioTest=a,this.svWss=l,this.svUser=d,this.svSess=b,this.svMenu=f,this.svNav=E,this.route=L,this.svBase=w,this.debug=!0,this.resourceGuid=(0,g.Z)(),this.loginInvalid=!1,this.rememberMe=!0,this.submitted=!1,this.error="",this.socketData=[],this.routParams={queryParams:{token:""},skipLocationChange:!0,replaceUrl:!1},this.fg=new s.FormGroup({userName:new s.FormControl,password:new s.FormControl,rememberMe:new s.FormControl})}ngOnInit(){this.logger.info("cd-user-v2::cd-user/LoginComponent::ngOnInit()/StorageType.CdObjId:",r.StorageType.CdObjId),this.initialize()}login(o){this.logger.info("starting user/cd-user/LoginComponent::login");let t=o.value;const a=o.valid;this.logger.info("user/cd-user/LoginComponent::login/01"),this.logger.info("user/cd-user/LoginComponent::login/fg:",o),this.logger.info("user/cd-user/LoginComponent::login/valid:",a),this.submitted=!0,t=Object.assign({},t,{consumerGuid:h.N.consumerToken});try{this.logger.info("user/cd-user/LoginComponent::login/02"),a&&(this.logger.info("user/cd-user/LoginComponent::login/03"),this.initSession(t))}catch{this.logger.info("user/cd-user/LoginComponent::login/04"),this.errMsg="Something went wrong!!",this.loginInvalid=!0}}initialize(){const o={storageType:r.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"LoginComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::cd-user/LoginComponent::ngOnInit()/filter:",o),this.sidebarInitData=this.searchLocalStorage(o),this.logger.info("user/cd-user/LoginComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const t=localStorage.getItem("socketData");if(t){let l=function(d){return"appInit"===d.name?d:null};this.socketData=JSON.parse(t).filter(l),this.logger.info("user/cd-user/LoginComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid");this.setAppId()}setAppId(){console.log("cd-user/LoginComponent::setAppId()/01"),console.log("cd-user/LoginComponent::setAppId()/this.svSio.socket:",this.svSio.socket),localStorage.removeItem("appId"),localStorage.setItem("appId",this.svBase.getGuid());const o=localStorage.getItem("appId");console.log("cd-user/LoginComponent::setAppId()/appId:",o);const t=this.configPushPayload("register-client","push-registered-client",1e3);console.log("cd-user/LoginComponent::setAppId()/envl:",t),this.listen("push-registered-client"),this.listen("msg-relayed"),this.listen("push-msg-relayed"),this.sendSioMessage(t.pushData.triggerEvent,t)}initSession(o){this.logger.info("user/cd-user/LoginComponent::initSession/01"),this.svUser.auth$(o).subscribe(t=>{if(!0===t.app_state.success){if(this.logger.info("user/cd-user/LoginComponent::initSession/res:",JSON.stringify(t)),this.svSess.appState=t.app_state,null!==t.app_state.sess.cd_token&&t.app_state.success){this.logger.info("user/cd-user/LoginComponent::initSession/02");const a=this.configPushPayload("login","push-menu",t.data.userData.userId);a.pushData.m=t.data.menuData,this.logger.info("user/cd-user/LoginComponent::initSession/envl:",a),"sio"===h.N.wsMode&&(this.logger.info("user/cd-user/LoginComponent::initSession/envl:...using sio"),this.sendSioMessage(a.pushData.triggerEvent,a)),"wss"===h.N.wsMode&&(this.logger.info("user/cd-user/LoginComponent::initSession/envl:...using wss"),this.svWss.sendMsg(a)),this.svSess.createSess(t,this.svMenu),this.svUser.currentUser={name:`${t.data.userData.userName}`,picture:`${h.N.shellHost}/user-resources/${t.data.userData.userGuid}/avatar-01/a.jpg`},this.svNav.userMenu=[{title:"Profile",link:"/pages/cd-auth/register"},{title:"Log out",link:"/pages/cd-auth/logout"}];const l={queryParams:{token:t.app_state.sess.cd_token},skipLocationChange:!0,replaceUrl:!1};this.route.navigate(["/dashboard"],l),this.route.navigate([h.N.initialPage],l)}}else this.errMsg="The userName and password were not valid",this.loginInvalid=!0,this.svSess.logout()})}listen(o){this.logger.info("cd-shell/cd-user/LoginComponent::listen/event:",o),this.svSioTest.sioListen(o).subscribe({next:t=>{switch(console.log("cd-user/LoginComponent::pushSubscribe()/payLoad:",t),t.pushData.emittEvent){case"push-registered-client":console.log("cd-user/LoginComponent::listenSecure()/push-registered-client/:payLoad.pushData.emittEvent:",t.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-registered-client/:payLoad.pushData.triggerEvent:",t.pushData.triggerEvent),console.log("handle push-registered-client event"),this.saveSocket(t);break;case"push-msg-relayed":console.log("cd-user/LoginComponent::listenSecure()/push-msg-relayed/:payLoad.pushData.emittEvent:",t.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-msg-relayed/:payLoad.pushData.triggerEvent:",t.pushData.triggerEvent),console.log("handle push-msg-relayed event"),this.updateRelayed(t);break;case"msg-relayed":console.log("cd-user/LoginComponent::listenSecure()/msg-relayed/:payLoad.pushData.emittEvent:",t.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/msg-relayed/:payLoad.pushData.triggerEvent:",t.pushData.triggerEvent),console.log("handle msg-relayed event");break;case"push-menu":console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad.pushData.emittEvent:",t.pushData.emittEvent),console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad.pushData.triggerEvent:",t.pushData.triggerEvent),console.log("cd-user/LoginComponent::listenSecure()/push-menu/:payLoad:",t),console.log("handle push-menu event"),this.routParams.queryParams.token=t.pushData.token}},error:t=>{console.error("cd-shell/cd-user/LoginComponent::listen/Error receiving message:",t)},complete:()=>{console.log("cd-shell/cd-user/LoginComponent::listen/Message subscription complete")}})}sendSioMessage(o,t){this.logger.info("user/cd-user/LoginComponent::sendSioMessage/triggerEvent:",o),this.logger.info("user/cd-user/LoginComponent::sendSioMessage/envl:",t),this.svSioTest.sendMessage(o,t).subscribe({next:a=>{console.log("Message sent successfully:",a)},error:a=>{console.error("Error sending message:",a)},complete:()=>{console.log("Message sending complete")}})}configPushPayload(o,t,a){console.log("starting cd-user::LoginComponent::configPushPayload()"),this.resourceGuid=this.svBase.getGuid();const l={pushData:{pushGuid:"",m:"",pushRecepients:[],triggerEvent:"",emittEvent:"",token:"",isNotification:null,appSockets:this.socketData,isAppInit:!0,commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}},req:null,resp:null};console.log("cd-user::LoginComponent::configPushPayload()/this.resourceGuid:",this.resourceGuid);const d=this.resourceGuid,b={appId:localStorage.getItem("appId"),ngModule:"UserFrontModule",resourceName:"LoginComponent",resourceGuid:this.resourceGuid,jwtToken:this.jwtWsToken,socket:null,socketId:"",commTrack:{initTime:Number(new Date),relayTime:null,relayed:!1,pushed:!1,pushTime:null,deliveryTime:null,delivered:!1,completed:!1,completedTime:null}};localStorage.setItem(d,JSON.stringify(b));const f=[{userId:a,subTypeId:1,cdObjId:b}],E={...l};E.pushData.triggerEvent=o,E.pushData.emittEvent=t;const L={...f[0]};return L.subTypeId=1,E.pushData.pushRecepients.push(L),console.log("starting cd-user-v2::LoginComponent::configPushPayload()/envl:",E),E}saveSocket(o){console.log("cd-user/LoginComponent::saveSocket()/payLoad:",o);const t=o.pushData.appSockets.filter(function a(l){return"appInit"===l.name?l:null});if(t.length>0){const l=JSON.stringify(t);localStorage.removeItem("socketData"),localStorage.setItem("socketData",l)}}updateRelayed(o){console.log("updateRelayed()/01"),console.log("updateRelayed()/payLoad:",o)}searchLocalStorage(o){this.logger.info("starting cd-user/LoginComponent::searchLocalStorage()/lcLength:");const t=[],a=localStorage.length;this.logger.info("cd-user/LoginComponent::searchLocalStorage()/lcLength:",a);for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);var d=localStorage.getItem(c);this.logger.info("Key: "+c+", Value: "+d);try{if(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/1"),"object"==typeof d){this.logger.info("cd-user/LoginComponent::searchLocalStorage()/2"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/v:",d);const C=JSON.parse(d);"success"in C&&(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/3"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/appState:",C)),"resourceGuid"in C&&(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/4"),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/cdObjId:",C)),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/5"),t.push({key:c,value:JSON.parse(d)})}else this.logger.info("cd-user/LoginComponent::searchLocalStorage()/typeof (v):",typeof d),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/6"),t.push({key:c,value:JSON.parse(d)})}catch(C){this.logger.info("offending item:",d),this.logger.info("the item is not an object"),this.logger.info("Error:",C)}}this.logger.info("cd-user/LoginComponent::searchLocalStorage()/lcArr:",t),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/f.cdObjId!.resourceName:",o.cdObjId.resourceName);const f=i=>"object"==typeof i.value,E=i=>"resourceName"in i.value,L=i=>i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule,w=(i,c)=>i.value.commTrack.initTime>c.value.commTrack.initTime?i:c;let S=null;try{this.debug?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/debug=true:"),S=t.filter(i=>"object"==typeof i.value?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByObject: d:",i),i):null).filter(i=>"resourceName"in i.value?(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByResourceNameField: d:",i),i):null).filter(i=>(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d:",i),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",i.value.resourceName),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",o.cdObjId.resourceName),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",i.value.ngModule),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",o.cdObjId.ngModule),i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule?i:null)).reduce((i={},c={})=>(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/prev:",i),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/current:",c),i.value.commTrack.initTime>c.value.commTrack.initTime?i:c))):(this.logger.info("cd-user/LoginComponent::searchLocalStorage()/debug=false:"),S=t.filter(f).filter(E).filter(L).reduce(w)),this.logger.info("cd-user/LoginComponent::searchLocalStorage()/ret:",S)}catch(i){this.logger.info("Error:",i)}return S}onFocus(){this.errMsg=""}}U.\u0275fac=function(o){return new(o||U)(e.\u0275\u0275directiveInject(T.NGXLogger),e.\u0275\u0275directiveInject(r.SioClientService),e.\u0275\u0275directiveInject(F),e.\u0275\u0275directiveInject(r.WebsocketService),e.\u0275\u0275directiveInject(r.UserService),e.\u0275\u0275directiveInject(r.SessService),e.\u0275\u0275directiveInject(r.MenuService),e.\u0275\u0275directiveInject(r.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService))},U.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["app-login"]],decls:56,vars:10,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","no-gutters"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["formControlName","userName","id","userName","placeholder","userName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customControlInline",1,"custom-control-input"],["for","customControlInline",1,"custom-control-label"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],["routerLink","/account/reset-password",1,"text-muted"],[1,"mdi","mdi-lock","mr-1"],[1,"mt-5","text-center"],["routerLink","/account/signup",1,"font-weight-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Sign in to continue."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return t.login(t.fg)}),e.\u0275\u0275template(22,le,2,2,"ngb-alert",17),e.\u0275\u0275elementStart(23,"div",18),e.\u0275\u0275element(24,"i",19),e.\u0275\u0275elementStart(25,"label",20),e.\u0275\u0275text(26,"User Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",21),e.\u0275\u0275template(28,me,3,2,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",18),e.\u0275\u0275element(30,"i",23),e.\u0275\u0275elementStart(31,"label",24),e.\u0275\u0275text(32,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",25),e.\u0275\u0275template(34,ge,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",26),e.\u0275\u0275element(36,"input",27),e.\u0275\u0275elementStart(37,"label",28),e.\u0275\u0275text(38,"Remember me"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",29)(40,"button",30),e.\u0275\u0275text(41,"Log In"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",29)(43,"a",31),e.\u0275\u0275element(44,"i",32),e.\u0275\u0275text(45," Forgot your password?"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",33)(47,"p"),e.\u0275\u0275text(48,"Don't have an account ? "),e.\u0275\u0275elementStart(49,"a",34),e.\u0275\u0275text(50," Register "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"p"),e.\u0275\u0275text(52,"\xa9 2020 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(53,"div",35)(54,"div",36),e.\u0275\u0275element(55,"div",37),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",t.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,ne,t.submitted&&t.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&t.loginInvalid),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,ne,t.submitted&&t.loginInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&t.loginInvalid))},dependencies:[I.NgClass,I.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,y.NgbAlert]});var ie=m(7217);function pe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"ngb-alert",41),e.\u0275\u0275text(1,"Registeration successfull. "),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("dismissible",!1)}function fe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ngb-alert",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function he(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username is required."),e.\u0275\u0275elementEnd())}function ve(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username must be at least 3 characters long."),e.\u0275\u0275elementEnd())}function ye(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function be(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,he,2,0,"div",23),e.\u0275\u0275template(2,ve,2,0,"div",23),e.\u0275\u0275template(3,ye,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.maxlength)}}function Se(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required."),e.\u0275\u0275elementEnd())}function Ce(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Invalid email format."),e.\u0275\u0275elementEnd())}function Ie(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Se,2,0,"div",23),e.\u0275\u0275template(2,Ce,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.email)}}function Ee(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function _e(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must be at least 8 characters long."),e.\u0275\u0275elementEnd())}function Ne(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function Le(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."),e.\u0275\u0275elementEnd())}function Te(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ee,2,0,"div",23),e.\u0275\u0275template(2,_e,2,0,"div",23),e.\u0275\u0275template(3,Ne,2,0,"div",23),e.\u0275\u0275template(4,Le,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.maxlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.pattern)}}function we(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Confirming the password is required."),e.\u0275\u0275elementEnd())}function Fe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Passwords must match."),e.\u0275\u0275elementEnd())}function xe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,we,2,0,"div",23),e.\u0275\u0275template(2,Fe,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.fg.errors?null:t.fg.errors.mismatch)}}const ee=function(n){return{"is-invalid":n}};class B{constructor(o,t,a,l,d,b,f,E,L,w,S){this.fb=o,this.logger=t,this.svSio=a,this.svWss=l,this.svUser=d,this.svSess=b,this.svMenu=f,this.svNav=E,this.route=L,this.svBase=w,this.toastr=S,this.debug=!0,this.resourceGuid=(0,g.Z)(),this.regInvalid=!1,this.submitted=!1,this.error="",this.socketData=[],this.successmsg=!1,this.year=(new Date).getFullYear(),this.svSio.env=h.N,this.svSio.initSio(null,null),this.fg=this.fb.group({userName:["",[s.Validators.required,s.Validators.minLength(3),s.Validators.maxLength(20)]],email:["",[s.Validators.required,s.Validators.email]],password:["",[s.Validators.required,s.Validators.minLength(8),s.Validators.maxLength(20)]],confirmPassword:["",s.Validators.required]},{validator:this.passwordMatchValidator})}ngOnInit(){this.logger.info("cd-user-v2::RegistrationComponent::ngOnInit()/StorageType.CdObjId:",r.StorageType.CdObjId);const o={storageType:r.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::RegistrationComponent::ngOnInit()/filter:",o),this.sidebarInitData=this.searchLocalStorage(o),this.logger.info("user/RegistrationComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const t=localStorage.getItem("socketData");if(t){let l=function(d){return"appInit"===d.name?d:null};this.socketData=JSON.parse(t).filter(l),this.logger.info("user/RegistrationComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid")}ngAfterViewInit(){this.setInputValue("userName",""),this.setInputValue("password","")}passwordMatchValidator(o){const t=o.get("password"),a=o.get("confirmPassword");return t&&a&&t.value===a.value?null:{mismatch:!0}}get userName(){return this.fg.get("userName")}get email(){return this.fg.get("email")}get password(){return this.fg.get("password")}get confirmPassword(){return this.fg.get("confirmPassword")}setInputValue(o,t){const a=this.fg.get(o);a?a.setValue(t):console.error(`Control with name '${o}' does not exist in the form`)}register(o){this.fg.valid&&console.log("Form Submitted!",this.fg.value),this.logger.info("starting register/RegistrationComponent::registration");let t=o.value;const a=o.valid;this.logger.info("register/RegistrationComponent::registration/01"),this.logger.info("register/RegistrationComponent::registration/fg:",o),this.logger.info("register/RegistrationComponent::registration/valid:",a),this.submitted=!0,t=Object.assign({},t,{consumerGuid:h.N.consumerToken});try{this.logger.info("register/RegistrationComponent::registration/02"),a&&(this.logger.info("register/RegistrationComponent::registration/03"),delete t.confirmPassword,this.svUser.registerUser(t),this.toastr.success("Signup successful!","Success"))}catch{this.logger.info("register/RegistrationComponent::registration/04"),this.errMsg="Something went wrong!!",this.regInvalid=!0,this.toastr.error("Please fill out the form correctly.","Error")}}searchLocalStorage(o){this.logger.info("starting RegistrationComponent::searchLocalStorage()/lcLength:");const t=[],a=localStorage.length;this.logger.info("RegistrationComponent::searchLocalStorage()/lcLength:",a);for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);var d=localStorage.getItem(c);this.logger.info("Key: "+c+", Value: "+d);try{if(this.logger.info("RegistrationComponent::searchLocalStorage()/1"),"object"==typeof d){this.logger.info("RegistrationComponent::searchLocalStorage()/2"),this.logger.info("RegistrationComponent::searchLocalStorage()/v:",d);const C=JSON.parse(d);"success"in C&&(this.logger.info("RegistrationComponent::searchLocalStorage()/3"),this.logger.info("RegistrationComponent::searchLocalStorage()/appState:",C)),"resourceGuid"in C&&(this.logger.info("RegistrationComponent::searchLocalStorage()/4"),this.logger.info("RegistrationComponent::searchLocalStorage()/cdObjId:",C)),this.logger.info("RegistrationComponent::searchLocalStorage()/5"),t.push({key:c,value:JSON.parse(d)})}else this.logger.info("RegistrationComponent::searchLocalStorage()/typeof (v):",typeof d),this.logger.info("RegistrationComponent::searchLocalStorage()/6"),t.push({key:c,value:JSON.parse(d)})}catch(C){this.logger.info("offending item:",d),this.logger.info("the item is not an object"),this.logger.info("Error:",C)}}this.logger.info("RegistrationComponent::searchLocalStorage()/lcArr:",t),this.logger.info("RegistrationComponent::searchLocalStorage()/f.cdObjId!.resourceName:",o.cdObjId.resourceName);const f=i=>"object"==typeof i.value,E=i=>"resourceName"in i.value,L=i=>i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule,w=(i,c)=>i.value.commTrack.initTime>c.value.commTrack.initTime?i:c;let S=null;try{this.debug?(this.logger.info("RegistrationComponent::searchLocalStorage()/debug=true:"),S=t.filter(i=>"object"==typeof i.value?(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByObject: d:",i),i):null).filter(i=>"resourceName"in i.value?(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByResourceNameField: d:",i),i):null).filter(i=>(this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d:",i),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",i.value.resourceName),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",o.cdObjId.resourceName),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",i.value.ngModule),this.logger.info("RegistrationComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",o.cdObjId.ngModule),i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule?i:null)).reduce((i={},c={})=>(this.logger.info("RegistrationComponent::searchLocalStorage()/prev:",i),this.logger.info("RegistrationComponent::searchLocalStorage()/current:",c),i.value.commTrack.initTime>c.value.commTrack.initTime?i:c))):(this.logger.info("RegistrationComponent::searchLocalStorage()/debug=false:"),S=t.filter(f).filter(E).filter(L).reduce(w)),this.logger.info("RegistrationComponent::searchLocalStorage()/ret:",S)}catch(i){this.logger.info("Error:",i)}return S}}B.\u0275fac=function(o){return new(o||B)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(T.NGXLogger),e.\u0275\u0275directiveInject(r.SioClientService),e.\u0275\u0275directiveInject(r.WebsocketService),e.\u0275\u0275directiveInject(r.UserService),e.\u0275\u0275directiveInject(r.SessService),e.\u0275\u0275directiveInject(r.MenuService),e.\u0275\u0275directiveInject(r.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(ie.ToastrService))},B.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["app-register"]],decls:66,vars:19,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","success",3,"dismissible",4,"ngIf"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["type","text","formControlName","userName","autocomplete","off","id","userName","placeholder","Enter username",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"ri-mail-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","autocomplete","off","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],[1,"mt-4","text-center"],[1,"mb-0"],["href","#",1,"text-primary"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","success",3,"dismissible"],["type","danger",3,"dismissible"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return t.register(t.fg)}),e.\u0275\u0275template(22,pe,2,1,"ngb-alert",17),e.\u0275\u0275template(23,fe,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"i",20),e.\u0275\u0275elementStart(26,"label",21),e.\u0275\u0275text(27,"Username"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",22),e.\u0275\u0275template(29,be,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",19),e.\u0275\u0275element(31,"i",24),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,Ie,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275element(37,"i",27),e.\u0275\u0275elementStart(38,"label",28),e.\u0275\u0275text(39,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",29),e.\u0275\u0275template(41,Te,5,4,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",19),e.\u0275\u0275element(43,"i",27),e.\u0275\u0275elementStart(44,"label",30),e.\u0275\u0275text(45,"Confirm Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",31),e.\u0275\u0275template(47,xe,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",10)(49,"button",32),e.\u0275\u0275text(50,"Register"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",33)(52,"p",34),e.\u0275\u0275text(53,"By registering you agree to the ASDAP "),e.\u0275\u0275elementStart(54,"a",35),e.\u0275\u0275text(55,"Terms of Use"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(56,"div",36)(57,"p"),e.\u0275\u0275text(58,"Already have an account ? "),e.\u0275\u0275elementStart(59,"a",37),e.\u0275\u0275text(60," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"p"),e.\u0275\u0275text(62,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(63,"div",38)(64,"div",39),e.\u0275\u0275element(65,"div",40),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",t.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.successmsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,ee,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.invalid&&(t.userName.dirty||t.userName.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,ee,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,ee,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,ee,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.invalid&&(t.confirmPassword.dirty||t.confirmPassword.touched)))},dependencies:[I.NgClass,I.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,y.NgbAlert]});class G{constructor(){}ngOnInit(){}}G.\u0275fac=function(o){return new(o||G)},G.\u0275cmp=e.\u0275\u0275defineComponent({type:G,selectors:[["app-user-profile"]],decls:2,vars:0,template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"user-profile works!"),e.\u0275\u0275elementEnd())}});const je=new r.FormsService,te=[{title:"ID",name:"userId",dbName:"user_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum"},{title:"Guid",name:"userGuid",dbName:"user_guid",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"alphanum",disabled:!0},{title:"Name",name:"userName",dbName:"user_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"Password",name:"password",dbName:"password",type:r.FieldType.string,fetchable:!1,updateable:!1,searchable:!1,show:!1,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required,s.Validators.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]]},{title:"ConfirmPassword",name:"confirmPassword",dbName:"confirmPassword",type:r.FieldType.string,fetchable:!1,updateable:!1,searchable:!1,show:!1,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!1,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required,s.Validators.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]]},{title:"F.Name",name:"fName",dbName:"f_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"M.Name",name:"mName",dbName:"m_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"L.Name",name:"lName",dbName:"l_name",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"NID",name:"nationalId",dbName:"national_id",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"PID",name:"passportId",dbName:"passport_id",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(20),s.Validators.required]]},{title:"Postal",name:"postalAddress",dbName:"postal_address",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(1),s.Validators.maxLength(20),s.Validators.required]]},{title:"Mobile",name:"mobile",dbName:"mobile",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(8),s.Validators.maxLength(14),s.Validators.required]]},{title:"Email",name:"email",dbName:"email",type:r.FieldType.string,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.createForm},{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0,formControlsConfig:["",[s.Validators.pattern(r.EMAIL_PATTERN),s.Validators.required]]},{title:"Company",name:"companyId",dbName:"company_id",type:r.FieldType.string,fetchable:!0,updateable:!0,index:!0,show:!0,controls:[{controlType:r.ControlType.text,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.searchDropDown,fieldFor:r.FieldFor.createForm}],ddlInfo:{selData$:(0,_.of)([]),selValueField:"companyName",selIndex:"companyId",selPlaceholder:"...Choose",data:null},formatt:"text",disabled:!0,savable:!0,formControlsConfig:["",[s.Validators.minLength(3),s.Validators.maxLength(42),s.Validators.required]]},{title:"Gender",name:"gender",dbName:"gender",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Enabled",name:"userEnabled",dbName:"user_enabled",type:r.FieldType.boolean,fetchable:!0,updateable:!0,searchable:!0,show:!0,controls:[{controlType:r.ControlType.status,fieldFor:r.FieldFor.tableDisplay}],formatt:"text",isNameField:!0,savable:!0},{title:"Action",name:"action",type:r.FieldType.action,fetchable:!1,show:!0,controls:[{controlType:r.ControlType.action,fieldFor:r.FieldFor.tableDisplay},{controlType:r.ControlType.action,fieldFor:r.FieldFor.createForm}],Fn:"createUser"},{title:"Search",name:"iconSearch",type:r.FieldType.any,controls:[],formControlsConfig:["",[]]}],De={data:{},valid:null,ctx:"Sys"},N={token:"",stepTitle:"Create User",stepItems:{nextButtonId:"stepToMenu"},tabPaneId:"userInfo",cardTitle:"User Information",cardTitleDesc:"Fill all information below",module:"User",controller:"User",formGroup:null,fields:je.filterByFieldFor(te,r.FieldFor.createForm)},se={name:"User Wizard",steps:[N]},z={select:["userId","userName","userGuid"],where:{}},$={getFn$:null,selIndex:z.select[0],selValueField:z.select[1],fetchFields:z.select,step:null,token:null,controlName:"userId"},Me=[{menuName:"create",menuGuid:"bd9b5bda5ab",navLocation:"/user/user/create",actionType:r.ActionType.navigate},{menuName:"dashboard",menuGuid:"d27294db59c1",navLocation:"/user/user/dashboard",actionType:r.ActionType.navigate}];class q{constructor(o,t,a,l,d,b,f){this.aRoute=o,this.router=t,this.svBase=a,this.svNazTable=l,this.svAcl=d,this.svPage=b,this.svSess=f,this.dSource={fields:[],data:[]},this.cardTitle="User",this.cardBodyId="user",this.searchInputId="inputSearchUser",this.filter={},this.tpData=r.DEFAULT_TPD,this.ddlData=Me,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{o&&this.svAcl.initComponent(o,this,this.svSess).then(t=>{})})}init(){this.baseModel=new r.BaseModel(N.module,N.controller),this.svBase.module=N.module,this.svBase.controller=N.controller,this.baseModel.data.fields=te.filter(o=>o.fetchable||o.type===r.FieldType.action),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(N.controller,"List"),this.sQuery=this.svNazTable.initSQuery(this),this.dsEmittData=this.svNazTable.initEmittData(this)}execQuery(o){this.svNazTable.execQuery(o,this.svBase.getPaged$(this.sQuery,this.baseModel.sess.cd_token),this)}setSearchQuery(o){this.sQuery=o.sQuery,this.execQuery(o)}getSelect(){return this.baseModel.data.fields.filter(o=>o.fetchable).map(o=>o.name)}}q.\u0275fac=function(o){return new(o||q)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(v.NazTableService),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(v.PageService),e.\u0275\u0275directiveInject(r.SessService))},q.\u0275cmp=e.\u0275\u0275defineComponent({type:q,selectors:[["app-list"]],viewQuery:function(o,t){if(1&o&&e.\u0275\u0275viewQuery(v.NazTableComponent,5),2&o){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(t.nazTable=a.first)}},decls:1,vars:7,consts:[[3,"baseModel","cardTitle","cardBodyId","searchInputId","tpData","filter","ddlData","searchQuery"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"naz-table",0),e.\u0275\u0275listener("searchQuery",function(l){return t.setSearchQuery(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",t.baseModel)("cardTitle",t.cardTitle)("cardBodyId",t.cardBodyId)("searchInputId",t.searchInputId)("tpData",t.tpData)("filter",t.filter)("ddlData",t.ddlData)},dependencies:[v.NazTableComponent]});var Q=m(5861);class J{constructor(o,t,a,l,d,b,f){this.aRoute=o,this.router=t,this.svBase=a,this.svPage=l,this.svSess=d,this.svAcl=b,this.svNotif=f,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(t=>{})})}init(){this.baseModel=new r.BaseModel(N.module,N.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(N.controller,"Edit"),this.baseModel.data.subTitle="only allowed fields are editable"}update(o){var t=this;return(0,Q.Z)(function*(){t.svBase.update$(o,t.baseModel.token).subscribe(a=>{t.svNotif.emitNotif({pushRecepients:r.DEFAULT_PUSH_RECEPIENTS,pushData:a,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:a})})})()}}J.\u0275fac=function(o){return new(o||J)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(v.PageService),e.\u0275\u0275directiveInject(r.SessService),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(r.NotificationService))},J.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["app-edit"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","updateQuery"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-edit",0),e.\u0275\u0275listener("updateQuery",function(l){return t.update(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",t.baseModel)("formConfig",t.formConfig)},dependencies:[v.EditComponent]});class W{constructor(o,t,a,l,d,b,f){this.aRoute=o,this.router=t,this.svBase=a,this.svPage=l,this.svAcl=d,this.svNotif=b,this.svSess=f,this.formConfig={},this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(t=>{})})}init(){this.baseModel=new r.BaseModel(N.module,N.controller),this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(N.controller,"Delete"),this.baseModel.data.subTitle="confirm before delete"}deleteItem(o){var t=this;return(0,Q.Z)(function*(){t.svBase.delete$(o,t.baseModel.token).subscribe(a=>{t.svNotif.emitNotif({pushRecepients:r.DEFAULT_PUSH_RECEPIENTS,pushData:a,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:a})})})()}}W.\u0275fac=function(o){return new(o||W)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(v.PageService),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(r.NotificationService),e.\u0275\u0275directiveInject(r.SessService))},W.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["app-delete"]],decls:1,vars:2,consts:[[3,"baseModel","pageDescription","formConfig","deleteQuery"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"naz-table-delete",0),e.\u0275\u0275listener("deleteQuery",function(l){return t.deleteItem(l)}),e.\u0275\u0275elementEnd()),2&o&&e.\u0275\u0275property("baseModel",t.baseModel)("formConfig",t.formConfig)},dependencies:[v.DeleteComponent]});class P{constructor(o,t,a){this.svMenu=o,this.svNotif=t,this.svForm=a,this.ddlData={config:{suppressScrollX:!0,wheelSpeed:.3},header:{title:{lable:"Notifications",cls:"",action:null},sideLink:{lable:"View All",cls:"",action:null}},footer:{label:"View All",icon:"",action:null},data:[{label:"item 1",description:"If several languages coalesce the grammar",time:"3 min ago"},{label:"item 2",description:"It will seem like simplified English",time:"1 hr ago"},{label:"item 3",description:"If several languages coalesce the grammar",time:"4 hr ago"}]},this.pushEnvelop={pushRecepients:[],pushData:null,emittEvent:"push-notif",triggerEvent:"send-notif",req:null,resp:null},this.numericNumberReg1="^-?[0-9]\\d*(\\.\\d{1,2})?$",this.numericNumberReg2="/^[0-9]d*$/",this.numericNumberReg3=new RegExp(/^-?[0-9]\\d*(\\.\\d{1,2})?$/,"i"),this.numericNumberReg4=new RegExp(/^[0-9]\d*$/,"i")}setIconsData$(o,t){o.fields.map((a,l)=>{a.name===t&&(o.fields[l].ddlInfo.selData$=(0,_.of)(this.ddlData),o.fields[l].ddlInfo.selIndex="iconId",o.fields[l].ddlInfo.selValueField="iconName",o.fields[l].ddlInfo.selPlaceholder="...Choose")})}setDdl$(o){if(o.token){const t=new _.Subject;let a=[];return o.getFn$.subscribe(l=>{const d=l;console.log("ModulemanService::setDdl$()/response:",d),d.app_state.success?(a=d.data.items,o.step.fields.map((b,f)=>{b.name===o.controlName&&(o.step.fields[f].ddlInfo.selData$=(0,_.of)(d.data.items),o.step.fields[f].ddlInfo.selIndex=o.selIndex,o.step.fields[f].ddlInfo.selValueField=o.selValueField,o.step.fields[f].ddlInfo.selPlaceholder="...Choose")}),t.next(a)):(this.pushEnvelop.pushData=d,this.pushEnvelop.resp=d,this.svNotif.emitNotif(this.pushEnvelop),t.next(a))}),t.asObservable()}return(0,_.of)([])}}P.\u0275fac=function(o){return new(o||P)(e.\u0275\u0275inject(r.MenuService),e.\u0275\u0275inject(r.NotificationService),e.\u0275\u0275inject(r.FormsService))},P.\u0275prov=e.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"});class R{constructor(o,t){this.svBase=o,this.svUserBase=t}loadDdls(o,t){var a=this;return(0,Q.Z)(function*(){$.token=o.token,$.step=t,$.controlName="userId",console.log("ConsumerModService::loadDdls()/userGetQuery:",z),$.getFn$=a.svBase.getPaged$(z,o.token,"Sys","Moduleman","Company"),yield a.svUserBase.setDdl$(yield $).subscribe(l=>{console.log("menu/ConsumerModService::loadDdls()/ret(companies):",l),t.fields.forEach(d=>{"userId"===d.name&&(d.ddlInfo.data=l)})})})()}}R.\u0275fac=function(o){return new(o||R)(e.\u0275\u0275inject(r.BaseService),e.\u0275\u0275inject(P))},R.\u0275prov=e.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"});class K{constructor(o,t,a,l,d,b,f,E,L,w,S,i){this.aRoute=o,this.router=t,this.svAcl=a,this.svForm=l,this.svNotif=d,this.fb=b,this.svForms=f,this.svPage=E,this.svPush=L,this.svBase=w,this.svUserFront=S,this.svSess=i,this.newUser=De,this.wizardModel=se,this.init()}ngOnInit(){this.aRoute.queryParams.subscribe(o=>{this.svAcl.initComponent(o,this,this.svSess).then(t=>{t&&(this.svPush.init(this),this.baseModel.data.step.token=this.baseModel.token)})})}ngAfterViewInit(){this.svUserFront.loadDdls(this.baseModel,this.baseModel.data.step).then(o=>{console.log("user/CreateComponent::ngAfterViewInit()/this.baseModel.data.step:",this.baseModel.data.step)})}init(){this.baseModel=new r.BaseModel(N.module,N.controller),this.baseModel.data.fields=this.svForms.filterByFieldFor(te,r.FieldFor.createForm),this.baseModel.data.wizardModel=se,this.baseModel.data.step=this.svForm.filterStepsByController(this.baseModel.data.wizardModel,N.controller)[0],this.baseModel.data.form=this.fb.group(this.svForm.getFormControlConfig(te)),this.baseModel.data.step.formGroup=this.baseModel.data.form,this.baseModel.breadCrumbItems=this.svPage.setBreadCrumbs(N.controller,"Create")}setSelectedIcon(o){this.svForm.setSelectedIcon(o,this.baseModel,this.baseModel.data.step)}save(o){let t;switch(o.controller){case"module":case"menu":break;case"user":t=this.svBase.create$(this.newUser,this.baseModel.token),this.svForm.saveForm(o,this.newUser,t,this.svPush.pushEnvelop,this.svNotif)}}finishFunction(){console.log("finishing!!")}}K.\u0275fac=function(o){return new(o||K)(e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.AclService),e.\u0275\u0275directiveInject(r.FormsService),e.\u0275\u0275directiveInject(r.NotificationService),e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(r.FormsService),e.\u0275\u0275directiveInject(v.PageService),e.\u0275\u0275directiveInject(r.CdPushService),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(R),e.\u0275\u0275directiveInject(r.SessService))},K.\u0275cmp=e.\u0275\u0275defineComponent({type:K,selectors:[["app-create"]],decls:2,vars:0,template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"create works!"),e.\u0275\u0275elementEnd())}});class Z{constructor(){}ngOnInit(){}}Z.\u0275fac=function(o){return new(o||Z)},Z.\u0275cmp=e.\u0275\u0275defineComponent({type:Z,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"dashboard works!"),e.\u0275\u0275elementEnd())}});var Ve=m(5893),ae=m(9923),ke=m(599);class H{constructor(o,t,a,l,d){this.formBuilder=o,this.route=t,this.router=a,this.authenticationService=l,this.userService=d,this.submitted=!1,this.error="",this.successmsg=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.signupForm=this.formBuilder.group({username:["",s.Validators.required],email:["",[s.Validators.required,s.Validators.email]],password:["",s.Validators.required]})}ngAfterViewInit(){}get f(){return this.signupForm.controls}onSubmit(){this.submitted=!0,!this.signupForm.invalid&&("firebase"===h.N.defaultauth?this.authenticationService.register(this.f.email.value,this.f.password.value).then(o=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/"])}).catch(o=>{this.error=o||""}):this.userService.register(this.signupForm.value).pipe((0,Ve.first)()).subscribe(o=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/account/login"])},o=>{this.error=o||""}))}}H.\u0275fac=function(o){return new(o||H)(e.\u0275\u0275directiveInject(s.UntypedFormBuilder),e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(ae.$),e.\u0275\u0275directiveInject(ke.i))},H.\u0275cmp=e.\u0275\u0275defineComponent({type:H,selectors:[["app-signup"]],decls:30,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Register account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"p"),e.\u0275\u0275text(22,"Already have an account ? "),e.\u0275\u0275elementStart(23,"a",16),e.\u0275\u0275text(24," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"p"),e.\u0275\u0275text(26,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(27,"div",17)(28,"div",18),e.\u0275\u0275element(29,"div",19),e.\u0275\u0275elementEnd()()()()())}});class X{constructor(o,t,a,l){this.formBuilder=o,this.route=t,this.router=a,this.authenticationService=l,this.submitted=!1,this.error="",this.success="",this.loading=!1,this.year=(new Date).getFullYear()}ngOnInit(){document.body.removeAttribute("data-layout"),document.body.classList.add("auth-body-bg"),this.resetForm=this.formBuilder.group({email:["",[s.Validators.required,s.Validators.email]]})}ngAfterViewInit(){}get f(){return this.resetForm.controls}onSubmit(){this.success="",this.submitted=!0,!this.resetForm.invalid&&"firebase"===h.N.defaultauth&&this.authenticationService.resetPassword(this.f.email.value).catch(o=>{this.error=o||""})}}function Pe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"ngb-alert",41),e.\u0275\u0275text(1,"VerifyEmailation successfull. "),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("dismissible",!1)}function Re(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ngb-alert",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error)}}function Oe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username is required."),e.\u0275\u0275elementEnd())}function Ae(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username must be at least 3 characters long."),e.\u0275\u0275elementEnd())}function Ue(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Username cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function Be(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Oe,2,0,"div",23),e.\u0275\u0275template(2,Ae,2,0,"div",23),e.\u0275\u0275template(3,Ue,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.errors.maxlength)}}function Ge(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Email is required."),e.\u0275\u0275elementEnd())}function ze(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Invalid email format."),e.\u0275\u0275elementEnd())}function $e(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ge,2,0,"div",23),e.\u0275\u0275template(2,ze,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.errors.email)}}function qe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password is required."),e.\u0275\u0275elementEnd())}function Qe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must be at least 8 characters long."),e.\u0275\u0275elementEnd())}function Je(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password cannot be more than 20 characters long."),e.\u0275\u0275elementEnd())}function We(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."),e.\u0275\u0275elementEnd())}function Ke(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,qe,2,0,"div",23),e.\u0275\u0275template(2,Qe,2,0,"div",23),e.\u0275\u0275template(3,Je,2,0,"div",23),e.\u0275\u0275template(4,We,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.maxlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.errors.pattern)}}function Ze(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Confirming the password is required."),e.\u0275\u0275elementEnd())}function He(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Passwords must match."),e.\u0275\u0275elementEnd())}function Xe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ze,2,0,"div",23),e.\u0275\u0275template(2,He,2,0,"div",23),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.fg.errors?null:t.fg.errors.mismatch)}}X.\u0275fac=function(o){return new(o||X)(e.\u0275\u0275directiveInject(s.UntypedFormBuilder),e.\u0275\u0275directiveInject(p.ActivatedRoute),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(ae.$))},X.\u0275cmp=e.\u0275\u0275defineComponent({type:X,selectors:[["app-passwordreset"]],decls:33,vars:0,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],["role","alert",1,"alert","alert-success","mb-4"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"Reset Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Reset your password to ASDAP."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"div",16),e.\u0275\u0275text(22," Enter your Email and instructions will be sent to you! "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",17)(24,"p"),e.\u0275\u0275text(25,"Don't have an account ? "),e.\u0275\u0275elementStart(26,"a",18),e.\u0275\u0275text(27," Log in "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"p"),e.\u0275\u0275text(29,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(30,"div",19)(31,"div",20),e.\u0275\u0275element(32,"div",21),e.\u0275\u0275elementEnd()()()()())}});const oe=function(n){return{"is-invalid":n}};class Y{constructor(o,t,a,l,d,b,f,E,L,w,S,i){this.fb=o,this.logger=t,this.svSio=a,this.svWss=l,this.svUser=d,this.svSess=b,this.svMenu=f,this.svNav=E,this.router=L,this.svBase=w,this.toastr=S,this.aRoute=i,this.debug=!0,this.resourceGuid=(0,g.Z)(),this.regInvalid=!1,this.submitted=!1,this.error="",this.socketData=[],this.successmsg=!1,this.year=(new Date).getFullYear(),this.svSio.env=h.N,this.svSio.initSio(null,null),this.fg=this.fb.group({userName:["",[s.Validators.required,s.Validators.minLength(3),s.Validators.maxLength(20)]],email:["",[s.Validators.required,s.Validators.email]],password:["",[s.Validators.required,s.Validators.minLength(8),s.Validators.maxLength(20)]],confirmPassword:["",s.Validators.required]},{validator:this.passwordMatchValidator})}ngOnInit(){this.aRoute.queryParams.subscribe(l=>{this.verificationToken=l.token}),this.logger.info("cd-user-v2::VerifyEmailComponent::ngOnInit()/StorageType.CdObjId:",r.StorageType.CdObjId);const o={storageType:r.StorageType.CdObjId,cdObjId:{appId:localStorage.getItem("appId"),resourceGuid:null,resourceName:"SidebarComponent",ngModule:"SharedModule",jwtToken:localStorage.getItem("accessToken"),socket:null,commTrack:null}};this.logger.info("cd-user-v2::VerifyEmailComponent::ngOnInit()/filter:",o),this.sidebarInitData=this.searchLocalStorage(o),this.logger.info("user/VerifyEmailComponent::ngOnInit()/this.sidebarInitData:",this.sidebarInitData);const t=localStorage.getItem("socketData");if(t){let l=function(d){return"appInit"===d.name?d:null};this.socketData=JSON.parse(t).filter(l),this.logger.info("user/VerifyEmailComponent::ngOnInit()/this.socketData:",this.socketData)}else this.logger.info("Err: socket data is not valid")}ngAfterViewInit(){this.setInputValue("userName",""),this.setInputValue("password","")}passwordMatchValidator(o){const t=o.get("password"),a=o.get("confirmPassword");return t&&a&&t.value===a.value?null:{mismatch:!0}}get userName(){return this.fg.get("userName")}get email(){return this.fg.get("email")}get password(){return this.fg.get("password")}get confirmPassword(){return this.fg.get("confirmPassword")}setInputValue(o,t){const a=this.fg.get(o);a?a.setValue(t):console.error(`Control with name '${o}' does not exist in the form`)}activateUser(o){var t=this;return(0,Q.Z)(function*(){const a={ctx:"Sys",m:"User",c:"User",a:"Update",dat:{f_vals:[{query:{update:{activated:!0},where:{activationKey:o.activationKey}}}],token:o.sid},args:{}};yield t.updateUser(a)})()}updateUser(o){var t=this;return(0,Q.Z)(function*(){t.svBase.update$(o,t.baseModel.token).subscribe(a=>{})})()}register(o){this.fg.valid&&console.log("Form Submitted!",this.fg.value),this.logger.info("starting register/VerifyEmailComponent::verifyEmail");let t=o.value;const a=o.valid;this.logger.info("register/VerifyEmailComponent::verifyEmail/01"),this.logger.info("register/VerifyEmailComponent::verifyEmail/fg:",o),this.logger.info("register/VerifyEmailComponent::verifyEmail/valid:",a),this.submitted=!0,t=Object.assign({},t,{consumerGuid:h.N.consumerToken});try{this.logger.info("register/VerifyEmailComponent::verifyEmail/02"),a&&(this.logger.info("register/VerifyEmailComponent::verifyEmail/03"),delete t.confirmPassword,this.svUser.registerUser(t),this.toastr.success("Signup successful!","Success"))}catch{this.logger.info("register/VerifyEmailComponent::verifyEmail/04"),this.errMsg="Something went wrong!!",this.regInvalid=!0,this.toastr.error("Please fill out the form correctly.","Error")}}searchLocalStorage(o){this.logger.info("starting VerifyEmailComponent::searchLocalStorage()/lcLength:");const t=[],a=localStorage.length;this.logger.info("VerifyEmailComponent::searchLocalStorage()/lcLength:",a);for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);var d=localStorage.getItem(c);this.logger.info("Key: "+c+", Value: "+d);try{if(this.logger.info("VerifyEmailComponent::searchLocalStorage()/1"),"object"==typeof d){this.logger.info("VerifyEmailComponent::searchLocalStorage()/2"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/v:",d);const C=JSON.parse(d);"success"in C&&(this.logger.info("VerifyEmailComponent::searchLocalStorage()/3"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/appState:",C)),"resourceGuid"in C&&(this.logger.info("VerifyEmailComponent::searchLocalStorage()/4"),this.logger.info("VerifyEmailComponent::searchLocalStorage()/cdObjId:",C)),this.logger.info("VerifyEmailComponent::searchLocalStorage()/5"),t.push({key:c,value:JSON.parse(d)})}else this.logger.info("VerifyEmailComponent::searchLocalStorage()/typeof (v):",typeof d),this.logger.info("VerifyEmailComponent::searchLocalStorage()/6"),t.push({key:c,value:JSON.parse(d)})}catch(C){this.logger.info("offending item:",d),this.logger.info("the item is not an object"),this.logger.info("Error:",C)}}this.logger.info("VerifyEmailComponent::searchLocalStorage()/lcArr:",t),this.logger.info("VerifyEmailComponent::searchLocalStorage()/f.cdObjId!.resourceName:",o.cdObjId.resourceName);const f=i=>"object"==typeof i.value,E=i=>"resourceName"in i.value,L=i=>i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule,w=(i,c)=>i.value.commTrack.initTime>c.value.commTrack.initTime?i:c;let S=null;try{this.debug?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/debug=true:"),S=t.filter(i=>"object"==typeof i.value?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByObject: d:",i),i):null).filter(i=>"resourceName"in i.value?(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByResourceNameField: d:",i),i):null).filter(i=>(this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d:",i),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d.value.resourceName:",i.value.resourceName),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: f.cdObjId!.resourceName:",o.cdObjId.resourceName),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: d.value.ngModule:",i.value.ngModule),this.logger.info("VerifyEmailComponent::searchLocalStorage()/filteredByName: f.cdObjId!.ngModule:",o.cdObjId.ngModule),i.value.resourceName===o.cdObjId.resourceName&&i.value.ngModule===o.cdObjId.ngModule?i:null)).reduce((i={},c={})=>(this.logger.info("VerifyEmailComponent::searchLocalStorage()/prev:",i),this.logger.info("VerifyEmailComponent::searchLocalStorage()/current:",c),i.value.commTrack.initTime>c.value.commTrack.initTime?i:c))):(this.logger.info("VerifyEmailComponent::searchLocalStorage()/debug=false:"),S=t.filter(f).filter(E).filter(L).reduce(w)),this.logger.info("VerifyEmailComponent::searchLocalStorage()/ret:",S)}catch(i){this.logger.info("Error:",i)}return S}}Y.\u0275fac=function(o){return new(o||Y)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(T.NGXLogger),e.\u0275\u0275directiveInject(r.SioClientService),e.\u0275\u0275directiveInject(r.WebsocketService),e.\u0275\u0275directiveInject(r.UserService),e.\u0275\u0275directiveInject(r.SessService),e.\u0275\u0275directiveInject(r.MenuService),e.\u0275\u0275directiveInject(r.NavService),e.\u0275\u0275directiveInject(p.Router),e.\u0275\u0275directiveInject(r.BaseService),e.\u0275\u0275directiveInject(ie.ToastrService),e.\u0275\u0275directiveInject(p.ActivatedRoute))},Y.\u0275cmp=e.\u0275\u0275defineComponent({type:Y,selectors:[["app-verify-email"]],decls:66,vars:19,consts:[[1,"home-btn","d-none","d-sm-block"],["routerLink",""],[1,"mdi","mdi-home-variant","h2","text-white"],[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-lg-4"],[1,"authentication-page-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],["routerLink","",1,"logo"],["src","assets/images/logo-dark.png","height","20","alt","logo"],[1,"font-size-18","mt-4"],[1,"text-muted"],[1,"p-2","mt-5"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","success",3,"dismissible",4,"ngIf"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group","auth-form-group-custom","mb-4"],[1,"ri-user-2-line","auti-custom-input-icon"],["for","userName"],["type","text","formControlName","userName","autocomplete","off","id","userName","placeholder","Enter username",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"ri-mail-line","auti-custom-input-icon"],["for","email"],["type","email","formControlName","email","autocomplete","off","id","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"ri-lock-2-line","auti-custom-input-icon"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-md","waves-effect","waves-light"],[1,"mt-4","text-center"],[1,"mb-0"],["href","#",1,"text-primary"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium","text-primary"],[1,"col-lg-8"],[1,"authentication-bg"],[1,"bg-overlay"],["type","success",3,"dismissible"],["type","danger",3,"dismissible"]],template:function(o,t){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275element(2,"i",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div")(12,"div",10)(13,"div")(14,"a",11),e.\u0275\u0275element(15,"img",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h4",13),e.\u0275\u0275text(17,"VerifyEmail account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",14),e.\u0275\u0275text(19,"Get your free ASDAP account now."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"form",16),e.\u0275\u0275listener("ngSubmit",function(){return t.register(t.fg)}),e.\u0275\u0275template(22,Pe,2,1,"ngb-alert",17),e.\u0275\u0275template(23,Re,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(24,"div",19),e.\u0275\u0275element(25,"i",20),e.\u0275\u0275elementStart(26,"label",21),e.\u0275\u0275text(27,"Username"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",22),e.\u0275\u0275template(29,Be,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",19),e.\u0275\u0275element(31,"i",24),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,$e,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",19),e.\u0275\u0275element(37,"i",27),e.\u0275\u0275elementStart(38,"label",28),e.\u0275\u0275text(39,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",29),e.\u0275\u0275template(41,Ke,5,4,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",19),e.\u0275\u0275element(43,"i",27),e.\u0275\u0275elementStart(44,"label",30),e.\u0275\u0275text(45,"Confirm Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",31),e.\u0275\u0275template(47,Xe,3,2,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",10)(49,"button",32),e.\u0275\u0275text(50,"VerifyEmail"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",33)(52,"p",34),e.\u0275\u0275text(53,"By registering you agree to the ASDAP "),e.\u0275\u0275elementStart(54,"a",35),e.\u0275\u0275text(55,"Terms of Use"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(56,"div",36)(57,"p"),e.\u0275\u0275text(58,"Already have an account ? "),e.\u0275\u0275elementStart(59,"a",37),e.\u0275\u0275text(60," Login"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"p"),e.\u0275\u0275text(62,"\xa9 2023 ASDAP. Powered by CORPDESK"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(63,"div",38)(64,"div",39),e.\u0275\u0275element(65,"div",40),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(21),e.\u0275\u0275property("formGroup",t.fg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.successmsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.error),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,oe,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userName.invalid&&(t.userName.dirty||t.userName.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,oe,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,oe,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,oe,t.submitted&&t.regInvalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.confirmPassword.invalid&&(t.confirmPassword.dirty||t.confirmPassword.touched)))},dependencies:[I.NgClass,I.NgIf,p.RouterLink,s.\u0275NgNoValidate,s.DefaultValueAccessor,s.NgControlStatus,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,y.NgbAlert]});const Ye=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"login",component:U},{path:"register",component:B},{path:"profile",component:G},{path:"list",component:q},{path:"edit",component:J},{path:"delete",component:W},{path:"create",component:K},{path:"signup",component:H},{path:"passwordreset",component:X},{path:"dashboard",component:Z},{path:"verify-email",component:Y}];class O{constructor(o){this.router=o,o.events.subscribe(t=>{console.log("CdUser::UserRoutingModule::constructor()/routeState:",t)})}}O.\u0275fac=function(o){return new(o||O)(e.\u0275\u0275inject(p.Router))},O.\u0275mod=e.\u0275\u0275defineNgModule({type:O}),O.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.RouterModule.forChild(Ye),p.RouterModule]});class A{}A.\u0275fac=function(o){return new(o||A)},A.\u0275mod=e.\u0275\u0275defineNgModule({type:A}),A.\u0275inj=e.\u0275\u0275defineInjector({imports:[I.CommonModule,O,s.FormsModule,s.ReactiveFormsModule,T.LoggerModule.forRoot({level:T.NgxLoggerLevel.TRACE,serverLogLevel:T.NgxLoggerLevel.OFF,serverLoggingUrl:"/api/logs",disableConsoleLogging:!1,enableSourceMaps:!0,colorScheme:["purple","teal","gray","gray","red","red","red"]}),y.NgbNavModule,y.NgbDropdownModule,y.NgbTooltipModule,y.NgbAccordionModule,v.NazUiModule,v.NazTableModule,v.NazCreateModule,v.NazEditModule,v.NazDeleteModule,y.NgbAlertModule,j.Ng2SearchPipeModule,u.ArchwizardModule,D.NgToggleModule,V.NgSelectModule,r.BaseModule.forChild(h.N),r.UserModule.forChild(h.N),r.CdPushModule.forChild(h.N)]})},1042:(re,M,m)=>{m.d(M,{Z:()=>p});var I,s=new Uint8Array(16);function T(){if(!I&&!(I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(s)}const V=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,j=function y(g){return"string"==typeof g&&V.test(g)};for(var u=[],D=0;D<256;++D)u.push((D+256).toString(16).substr(1));const p=function v(g,e,k){var _=(g=g||{}).random||(g.rng||T)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,e){k=k||0;for(var F=0;F<16;++F)e[k+F]=_[F];return e}return function h(g){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=(u[g[e+0]]+u[g[e+1]]+u[g[e+2]]+u[g[e+3]]+"-"+u[g[e+4]]+u[g[e+5]]+"-"+u[g[e+6]]+u[g[e+7]]+"-"+u[g[e+8]]+u[g[e+9]]+"-"+u[g[e+10]]+u[g[e+11]]+u[g[e+12]]+u[g[e+13]]+u[g[e+14]]+u[g[e+15]]).toLowerCase();if(!j(k))throw TypeError("Stringified UUID is invalid");return k}(_)}},5861:(re,M,m)=>{function I(T,V,y,j,u,D,h){try{var r=T[D](h),v=r.value}catch(p){return void y(p)}r.done?V(v):Promise.resolve(v).then(j,u)}function s(T){return function(){var V=this,y=arguments;return new Promise(function(j,u){var D=T.apply(V,y);function h(v){I(D,j,u,h,r,"next",v)}function r(v){I(D,j,u,h,r,"throw",v)}h(void 0)})}}m.d(M,{Z:()=>s})}}]);